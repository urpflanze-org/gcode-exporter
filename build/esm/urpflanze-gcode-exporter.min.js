/*! For license information please see urpflanze-gcode-exporter.min.js.LICENSE.txt */
var t={926:t=>{var e;window,e=function(){return(()=>{var t=[function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.log=e.PI2=e.PHI=e.Vec2=e.distributePointsInBuffer=e.prepareBufferForInterpolation=e.interpolate=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.now=e.toRadians=e.toDegrees=e.relativeClamp=e.clamp=e.lerp=void 0,i(n(1),e),n(10).glMatrix.setMatrixArrayType(Array),i(n(21),e),i(n(22),e),i(n(23),e),i(n(24),e),i(n(33),e),i(n(34),e),i(n(35),e),i(n(32),e),i(n(36),e),i(n(37),e),i(n(38),e),i(n(39),e),i(n(40),e),i(n(41),e),i(n(42),e),i(n(43),e),i(n(44),e),i(n(45),e),i(n(46),e),i(n(47),e),i(n(29),e),i(n(48),e);var o=n(30);Object.defineProperty(e,"lerp",{enumerable:!0,get:function(){return o.lerp}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return o.clamp}}),Object.defineProperty(e,"relativeClamp",{enumerable:!0,get:function(){return o.relativeClamp}}),Object.defineProperty(e,"toDegrees",{enumerable:!0,get:function(){return o.toDegrees}}),Object.defineProperty(e,"toRadians",{enumerable:!0,get:function(){return o.toRadians}}),Object.defineProperty(e,"now",{enumerable:!0,get:function(){return o.now}}),Object.defineProperty(e,"noise",{enumerable:!0,get:function(){return o.noise}}),Object.defineProperty(e,"random",{enumerable:!0,get:function(){return o.random}}),Object.defineProperty(e,"angleFromRepetition",{enumerable:!0,get:function(){return o.angleFromRepetition}}),Object.defineProperty(e,"angle2FromRepetition",{enumerable:!0,get:function(){return o.angle2FromRepetition}}),Object.defineProperty(e,"distanceFromRepetition",{enumerable:!0,get:function(){return o.distanceFromRepetition}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return o.interpolate}}),Object.defineProperty(e,"prepareBufferForInterpolation",{enumerable:!0,get:function(){return o.prepareBufferForInterpolation}}),Object.defineProperty(e,"distributePointsInBuffer",{enumerable:!0,get:function(){return o.distributePointsInBuffer}});var a=n(26);Object.defineProperty(e,"Vec2",{enumerable:!0,get:function(){return a.default}});var s=n(27);Object.defineProperty(e,"PHI",{enumerable:!0,get:function(){return s.PHI}}),Object.defineProperty(e,"PI2",{enumerable:!0,get:function(){return s.PI2}}),Object.defineProperty(e,"log",{enumerable:!0,get:function(){return s.log}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return s.mod}})},function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2),e),i(n(3),e),i(n(4),e),i(n(5),e),i(n(6),e),i(n(7),e),i(n(8),e),i(n(9),e)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ERepetitionType=void 0,(n=e.ERepetitionType||(e.ERepetitionType={}))[n.Ring=1]="Ring",n[n.Matrix=2]="Matrix"},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EBoundingType=void 0,(n=e.EBoundingType||(e.EBoundingType={}))[n.Relative=1]="Relative",n[n.Fixed=2]="Fixed"},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},(t,e,n)=>{n.r(e),n.d(e,{glMatrix:()=>r,mat2:()=>i,mat2d:()=>o,mat3:()=>a,mat4:()=>s,quat:()=>h,quat2:()=>u,vec2:()=>c,vec3:()=>f,vec4:()=>l});var r=n(11),i=n(12),o=n(13),a=n(14),s=n(15),h=n(16),u=n(19),c=n(20),f=n(18),l=n(17)},(t,e,n)=>{n.r(e),n.d(e,{EPSILON:()=>r,ARRAY_TYPE:()=>i,RANDOM:()=>o,setMatrixArrayType:()=>a,toRadian:()=>h,equals:()=>u});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;function a(t){i=t}var s=Math.PI/180;function h(t){return t*s}function u(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,copy:()=>a,identity:()=>s,fromValues:()=>h,set:()=>u,transpose:()=>c,invert:()=>f,adjoint:()=>l,determinant:()=>d,multiply:()=>p,rotate:()=>M,scale:()=>g,fromRotation:()=>v,fromScaling:()=>m,str:()=>y,frob:()=>b,LDU:()=>x,add:()=>P,subtract:()=>S,exactEquals:()=>R,equals:()=>E,multiplyScalar:()=>w,multiplyScalarAndAdd:()=>A,mul:()=>I,sub:()=>O});var r=n(11);function i(){var t=new r.ARRAY_TYPE(4);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function o(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function h(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function c(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function l(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function d(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],h=n[1],u=n[2],c=n[3];return t[0]=r*s+o*h,t[1]=i*s+a*h,t[2]=r*u+o*c,t[3]=i*u+a*c,t}function M(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+o*s,t[1]=i*h+a*s,t[2]=r*-s+o*h,t[3]=i*-s+a*h,t}function g(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],h=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*h,t[3]=a*h,t}function v(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function m(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function b(t){return Math.hypot(t[0],t[1],t[2],t[3])}function x(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function P(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function S(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function R(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function E(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],h=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}function w(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var I=p,O=S},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,copy:()=>a,identity:()=>s,fromValues:()=>h,set:()=>u,invert:()=>c,determinant:()=>f,multiply:()=>l,rotate:()=>d,scale:()=>p,translate:()=>M,fromRotation:()=>g,fromScaling:()=>v,fromTranslation:()=>m,str:()=>y,frob:()=>b,add:()=>x,subtract:()=>P,multiplyScalar:()=>S,multiplyScalarAndAdd:()=>R,exactEquals:()=>E,equals:()=>w,mul:()=>A,sub:()=>I});var r=n(11);function i(){var t=new r.ARRAY_TYPE(6);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function o(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function h(t,e,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s}function u(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=n*o-r*i;return h?(h=1/h,t[0]=o*h,t[1]=-r*h,t[2]=-i*h,t[3]=n*h,t[4]=(i*s-o*a)*h,t[5]=(r*a-n*s)*h,t):null}function f(t){return t[0]*t[3]-t[1]*t[2]}function l(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=n[0],c=n[1],f=n[2],l=n[3],d=n[4],p=n[5];return t[0]=r*u+o*c,t[1]=i*u+a*c,t[2]=r*f+o*l,t[3]=i*f+a*l,t[4]=r*d+o*p+s,t[5]=i*d+a*p+h,t}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*u,t[1]=i*c+a*u,t[2]=r*-u+o*c,t[3]=i*-u+a*c,t[4]=s,t[5]=h,t}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=i*u,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=h,t}function M(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*u+o*c+s,t[5]=i*u+a*c+h,t}function g(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function y(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function b(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function x(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function P(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function R(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function E(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function w(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5],u=e[0],c=e[1],f=e[2],l=e[3],d=e[4],p=e[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(h-p)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(p))}var A=l,I=P},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,fromMat4:()=>o,clone:()=>a,copy:()=>s,fromValues:()=>h,set:()=>u,identity:()=>c,transpose:()=>f,invert:()=>l,adjoint:()=>d,determinant:()=>p,multiply:()=>M,translate:()=>g,rotate:()=>v,scale:()=>m,fromTranslation:()=>y,fromRotation:()=>b,fromScaling:()=>x,fromMat2d:()=>P,fromQuat:()=>S,normalFromMat4:()=>R,projection:()=>E,str:()=>w,frob:()=>A,add:()=>I,subtract:()=>O,multiplyScalar:()=>B,multiplyScalarAndAdd:()=>L,exactEquals:()=>_,equals:()=>T,mul:()=>Y,sub:()=>C});var r=n(11);function i(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function h(t,e,n,i,o,a,s,h,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=h,c[8]=u,c}function u(t,e,n,r,i,o,a,s,h,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=h,t[8]=u,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8],f=c*a-s*u,l=-c*o+s*h,d=u*o-a*h,p=n*f+r*l+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*u)*p,t[2]=(s*r-i*a)*p,t[3]=l*p,t[4]=(c*n-i*h)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-u*n+r*h)*p,t[8]=(a*n-r*o)*p,t):null}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=i*u-r*c,t[2]=r*s-i*a,t[3]=s*h-o*c,t[4]=n*c-i*h,t[5]=i*o-n*s,t[6]=o*u-a*h,t[7]=r*h-n*u,t[8]=n*a-r*o,t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],h=t[7],u=t[8];return e*(u*o-a*h)+n*(-u*i+a*s)+r*(h*i-o*s)}function M(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=e[6],c=e[7],f=e[8],l=n[0],d=n[1],p=n[2],M=n[3],g=n[4],v=n[5],m=n[6],y=n[7],b=n[8];return t[0]=l*r+d*a+p*u,t[1]=l*i+d*s+p*c,t[2]=l*o+d*h+p*f,t[3]=M*r+g*a+v*u,t[4]=M*i+g*s+v*c,t[5]=M*o+g*h+v*f,t[6]=m*r+y*a+b*u,t[7]=m*i+y*s+b*c,t[8]=m*o+y*h+b*f,t}function g(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=e[6],c=e[7],f=e[8],l=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=h,t[6]=l*r+d*a+u,t[7]=l*i+d*s+c,t[8]=l*o+d*h+f,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=e[6],c=e[7],f=e[8],l=Math.sin(n),d=Math.cos(n);return t[0]=d*r+l*a,t[1]=d*i+l*s,t[2]=d*o+l*h,t[3]=d*a-l*r,t[4]=d*s-l*i,t[5]=d*h-l*o,t[6]=u,t[7]=c,t[8]=f,t}function m(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,h=i+i,u=n*a,c=r*a,f=r*s,l=i*a,d=i*s,p=i*h,M=o*a,g=o*s,v=o*h;return t[0]=1-f-p,t[3]=c-v,t[6]=l+g,t[1]=c+v,t[4]=1-u-p,t[7]=d-M,t[2]=l-g,t[5]=d+M,t[8]=1-u-f,t}function R(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8],f=e[9],l=e[10],d=e[11],p=e[12],M=e[13],g=e[14],v=e[15],m=n*s-r*a,y=n*h-i*a,b=n*u-o*a,x=r*h-i*s,P=r*u-o*s,S=i*u-o*h,R=c*M-f*p,E=c*g-l*p,w=c*v-d*p,A=f*g-l*M,I=f*v-d*M,O=l*v-d*g,B=m*O-y*I+b*A+x*w-P*E+S*R;return B?(B=1/B,t[0]=(s*O-h*I+u*A)*B,t[1]=(h*w-a*O-u*E)*B,t[2]=(a*I-s*w+u*R)*B,t[3]=(i*I-r*O-o*A)*B,t[4]=(n*O-i*w+o*E)*B,t[5]=(r*w-n*I-o*R)*B,t[6]=(M*S-g*P+v*x)*B,t[7]=(g*b-p*S-v*y)*B,t[8]=(p*P-M*b+v*m)*B,t):null}function E(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function w(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function A(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function O(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function B(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function L(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function _(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function T(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],f=t[8],l=e[0],d=e[1],p=e[2],M=e[3],g=e[4],v=e[5],m=e[6],y=e[7],b=e[8];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-M)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(h-v)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))}var Y=M,C=O},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,copy:()=>a,fromValues:()=>s,set:()=>h,identity:()=>u,transpose:()=>c,invert:()=>f,adjoint:()=>l,determinant:()=>d,multiply:()=>p,translate:()=>M,scale:()=>g,rotate:()=>v,rotateX:()=>m,rotateY:()=>y,rotateZ:()=>b,fromTranslation:()=>x,fromScaling:()=>P,fromRotation:()=>S,fromXRotation:()=>R,fromYRotation:()=>E,fromZRotation:()=>w,fromRotationTranslation:()=>A,fromQuat2:()=>I,getTranslation:()=>O,getScaling:()=>B,getRotation:()=>L,fromRotationTranslationScale:()=>_,fromRotationTranslationScaleOrigin:()=>T,fromQuat:()=>Y,frustum:()=>C,perspective:()=>F,perspectiveFromFieldOfView:()=>N,ortho:()=>q,lookAt:()=>j,targetTo:()=>D,str:()=>V,frob:()=>k,add:()=>U,subtract:()=>z,multiplyScalar:()=>X,multiplyScalarAndAdd:()=>Z,exactEquals:()=>G,equals:()=>H,mul:()=>$,sub:()=>Q});var r=n(11);function i(){var t=new r.ARRAY_TYPE(16);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,i,o,a,s,h,u,c,f,l,d,p,M,g){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=o,v[5]=a,v[6]=s,v[7]=h,v[8]=u,v[9]=c,v[10]=f,v[11]=l,v[12]=d,v[13]=p,v[14]=M,v[15]=g,v}function h(t,e,n,r,i,o,a,s,h,u,c,f,l,d,p,M,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=h,t[8]=u,t[9]=c,t[10]=f,t[11]=l,t[12]=d,t[13]=p,t[14]=M,t[15]=g,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8],f=e[9],l=e[10],d=e[11],p=e[12],M=e[13],g=e[14],v=e[15],m=n*s-r*a,y=n*h-i*a,b=n*u-o*a,x=r*h-i*s,P=r*u-o*s,S=i*u-o*h,R=c*M-f*p,E=c*g-l*p,w=c*v-d*p,A=f*g-l*M,I=f*v-d*M,O=l*v-d*g,B=m*O-y*I+b*A+x*w-P*E+S*R;return B?(B=1/B,t[0]=(s*O-h*I+u*A)*B,t[1]=(i*I-r*O-o*A)*B,t[2]=(M*S-g*P+v*x)*B,t[3]=(l*P-f*S-d*x)*B,t[4]=(h*w-a*O-u*E)*B,t[5]=(n*O-i*w+o*E)*B,t[6]=(g*b-p*S-v*y)*B,t[7]=(c*S-l*b+d*y)*B,t[8]=(a*I-s*w+u*R)*B,t[9]=(r*w-n*I-o*R)*B,t[10]=(p*P-M*b+v*m)*B,t[11]=(f*b-c*P-d*m)*B,t[12]=(s*E-a*A-h*R)*B,t[13]=(n*A-r*E+i*R)*B,t[14]=(M*y-p*x-g*m)*B,t[15]=(c*x-f*y+l*m)*B,t):null}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=e[6],u=e[7],c=e[8],f=e[9],l=e[10],d=e[11],p=e[12],M=e[13],g=e[14],v=e[15];return t[0]=s*(l*v-d*g)-f*(h*v-u*g)+M*(h*d-u*l),t[1]=-(r*(l*v-d*g)-f*(i*v-o*g)+M*(i*d-o*l)),t[2]=r*(h*v-u*g)-s*(i*v-o*g)+M*(i*u-o*h),t[3]=-(r*(h*d-u*l)-s*(i*d-o*l)+f*(i*u-o*h)),t[4]=-(a*(l*v-d*g)-c*(h*v-u*g)+p*(h*d-u*l)),t[5]=n*(l*v-d*g)-c*(i*v-o*g)+p*(i*d-o*l),t[6]=-(n*(h*v-u*g)-a*(i*v-o*g)+p*(i*u-o*h)),t[7]=n*(h*d-u*l)-a*(i*d-o*l)+c*(i*u-o*h),t[8]=a*(f*v-d*M)-c*(s*v-u*M)+p*(s*d-u*f),t[9]=-(n*(f*v-d*M)-c*(r*v-o*M)+p*(r*d-o*f)),t[10]=n*(s*v-u*M)-a*(r*v-o*M)+p*(r*u-o*s),t[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),t[12]=-(a*(f*g-l*M)-c*(s*g-h*M)+p*(s*l-h*f)),t[13]=n*(f*g-l*M)-c*(r*g-i*M)+p*(r*l-i*f),t[14]=-(n*(s*g-h*M)-a*(r*g-i*M)+p*(r*h-i*s)),t[15]=n*(s*l-h*f)-a*(r*l-i*f)+c*(r*h-i*s),t}function d(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],h=t[7],u=t[8],c=t[9],f=t[10],l=t[11],d=t[12],p=t[13],M=t[14],g=t[15];return(e*a-n*o)*(f*g-l*M)-(e*s-r*o)*(c*g-l*p)+(e*h-i*o)*(c*M-f*p)+(n*s-r*a)*(u*g-l*d)-(n*h-i*a)*(u*M-f*d)+(r*h-i*s)*(u*p-c*d)}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=e[6],c=e[7],f=e[8],l=e[9],d=e[10],p=e[11],M=e[12],g=e[13],v=e[14],m=e[15],y=n[0],b=n[1],x=n[2],P=n[3];return t[0]=y*r+b*s+x*f+P*M,t[1]=y*i+b*h+x*l+P*g,t[2]=y*o+b*u+x*d+P*v,t[3]=y*a+b*c+x*p+P*m,y=n[4],b=n[5],x=n[6],P=n[7],t[4]=y*r+b*s+x*f+P*M,t[5]=y*i+b*h+x*l+P*g,t[6]=y*o+b*u+x*d+P*v,t[7]=y*a+b*c+x*p+P*m,y=n[8],b=n[9],x=n[10],P=n[11],t[8]=y*r+b*s+x*f+P*M,t[9]=y*i+b*h+x*l+P*g,t[10]=y*o+b*u+x*d+P*v,t[11]=y*a+b*c+x*p+P*m,y=n[12],b=n[13],x=n[14],P=n[15],t[12]=y*r+b*s+x*f+P*M,t[13]=y*i+b*h+x*l+P*g,t[14]=y*o+b*u+x*d+P*v,t[15]=y*a+b*c+x*p+P*m,t}function M(t,e,n){var r,i,o,a,s,h,u,c,f,l,d,p,M=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*M+e[4]*g+e[8]*v+e[12],t[13]=e[1]*M+e[5]*g+e[9]*v+e[13],t[14]=e[2]*M+e[6]*g+e[10]*v+e[14],t[15]=e[3]*M+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],h=e[5],u=e[6],c=e[7],f=e[8],l=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=h,t[6]=u,t[7]=c,t[8]=f,t[9]=l,t[10]=d,t[11]=p,t[12]=r*M+s*g+f*v+e[12],t[13]=i*M+h*g+l*v+e[13],t[14]=o*M+u*g+d*v+e[14],t[15]=a*M+c*g+p*v+e[15]),t}function g(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function v(t,e,n,i){var o,a,s,h,u,c,f,l,d,p,M,g,v,m,y,b,x,P,S,R,E,w,A,I,O=i[0],B=i[1],L=i[2],_=Math.hypot(O,B,L);return _<r.EPSILON?null:(O*=_=1/_,B*=_,L*=_,o=Math.sin(n),s=1-(a=Math.cos(n)),h=e[0],u=e[1],c=e[2],f=e[3],l=e[4],d=e[5],p=e[6],M=e[7],g=e[8],v=e[9],m=e[10],y=e[11],b=O*O*s+a,x=B*O*s+L*o,P=L*O*s-B*o,S=O*B*s-L*o,R=B*B*s+a,E=L*B*s+O*o,w=O*L*s+B*o,A=B*L*s-O*o,I=L*L*s+a,t[0]=h*b+l*x+g*P,t[1]=u*b+d*x+v*P,t[2]=c*b+p*x+m*P,t[3]=f*b+M*x+y*P,t[4]=h*S+l*R+g*E,t[5]=u*S+d*R+v*E,t[6]=c*S+p*R+m*E,t[7]=f*S+M*R+y*E,t[8]=h*w+l*A+g*I,t[9]=u*w+d*A+v*I,t[10]=c*w+p*A+m*I,t[11]=f*w+M*A+y*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function m(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],h=e[7],u=e[8],c=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=h*i+l*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=l*i-h*r,t}function y(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],h=e[3],u=e[8],c=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=h*i-l*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=h*r+l*i,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],h=e[3],u=e[4],c=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=h*i+l*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=l*i-h*r,t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function P(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e,n){var i,o,a,s=n[0],h=n[1],u=n[2],c=Math.hypot(s,h,u);return c<r.EPSILON?null:(s*=c=1/c,h*=c,u*=c,i=Math.sin(e),a=1-(o=Math.cos(e)),t[0]=s*s*a+o,t[1]=h*s*a+u*i,t[2]=u*s*a-h*i,t[3]=0,t[4]=s*h*a-u*i,t[5]=h*h*a+o,t[6]=u*h*a+s*i,t[7]=0,t[8]=s*u*a+h*i,t[9]=h*u*a-s*i,t[10]=u*u*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function R(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,h=i+i,u=o+o,c=r*s,f=r*h,l=r*u,d=i*h,p=i*u,M=o*u,g=a*s,v=a*h,m=a*u;return t[0]=1-(d+M),t[1]=f+m,t[2]=l-v,t[3]=0,t[4]=f-m,t[5]=1-(c+M),t[6]=p+g,t[7]=0,t[8]=l+v,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function I(t,e){var n=new r.ARRAY_TYPE(3),i=-e[0],o=-e[1],a=-e[2],s=e[3],h=e[4],u=e[5],c=e[6],f=e[7],l=i*i+o*o+a*a+s*s;return l>0?(n[0]=2*(h*s+f*i+u*a-c*o)/l,n[1]=2*(u*s+f*o+c*i-h*a)/l,n[2]=2*(c*s+f*a+h*o-u*i)/l):(n[0]=2*(h*s+f*i+u*a-c*o),n[1]=2*(u*s+f*o+c*i-h*a),n[2]=2*(c*s+f*a+h*o-u*i)),A(t,e,n),t}function O(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function B(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],h=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(h,u,c),t}function L(t,e){var n=new r.ARRAY_TYPE(3);B(n,e);var i=1/n[0],o=1/n[1],a=1/n[2],s=e[0]*i,h=e[1]*o,u=e[2]*a,c=e[4]*i,f=e[5]*o,l=e[6]*a,d=e[8]*i,p=e[9]*o,M=e[10]*a,g=s+f+M,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(l-p)/v,t[1]=(d-u)/v,t[2]=(h-c)/v):s>f&&s>M?(v=2*Math.sqrt(1+s-f-M),t[3]=(l-p)/v,t[0]=.25*v,t[1]=(h+c)/v,t[2]=(d+u)/v):f>M?(v=2*Math.sqrt(1+f-s-M),t[3]=(d-u)/v,t[0]=(h+c)/v,t[1]=.25*v,t[2]=(l+p)/v):(v=2*Math.sqrt(1+M-s-f),t[3]=(h-c)/v,t[0]=(d+u)/v,t[1]=(l+p)/v,t[2]=.25*v),t}function _(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],h=i+i,u=o+o,c=a+a,f=i*h,l=i*u,d=i*c,p=o*u,M=o*c,g=a*c,v=s*h,m=s*u,y=s*c,b=r[0],x=r[1],P=r[2];return t[0]=(1-(p+g))*b,t[1]=(l+y)*b,t[2]=(d-m)*b,t[3]=0,t[4]=(l-y)*x,t[5]=(1-(f+g))*x,t[6]=(M+v)*x,t[7]=0,t[8]=(d+m)*P,t[9]=(M-v)*P,t[10]=(1-(f+p))*P,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function T(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],h=e[3],u=o+o,c=a+a,f=s+s,l=o*u,d=o*c,p=o*f,M=a*c,g=a*f,v=s*f,m=h*u,y=h*c,b=h*f,x=r[0],P=r[1],S=r[2],R=i[0],E=i[1],w=i[2],A=(1-(M+v))*x,I=(d+b)*x,O=(p-y)*x,B=(d-b)*P,L=(1-(l+v))*P,_=(g+m)*P,T=(p+y)*S,Y=(g-m)*S,C=(1-(l+M))*S;return t[0]=A,t[1]=I,t[2]=O,t[3]=0,t[4]=B,t[5]=L,t[6]=_,t[7]=0,t[8]=T,t[9]=Y,t[10]=C,t[11]=0,t[12]=n[0]+R-(A*R+B*E+T*w),t[13]=n[1]+E-(I*R+L*E+Y*w),t[14]=n[2]+w-(O*R+_*E+C*w),t[15]=1,t}function Y(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,h=i+i,u=n*a,c=r*a,f=r*s,l=i*a,d=i*s,p=i*h,M=o*a,g=o*s,v=o*h;return t[0]=1-f-p,t[1]=c+v,t[2]=l-g,t[3]=0,t[4]=c-v,t[5]=1-u-p,t[6]=d+M,t[7]=0,t[8]=l+g,t[9]=d-M,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,n,r,i,o,a){var s=1/(n-e),h=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*h,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function F(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function N(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),h=2/(a+s),u=2/(i+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*h*.5,t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function q(t,e,n,r,i,o,a){var s=1/(e-n),h=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*h,t[14]=(a+o)*u,t[15]=1,t}function j(t,e,n,i){var o,a,s,h,c,f,l,d,p,M,g=e[0],v=e[1],m=e[2],y=i[0],b=i[1],x=i[2],P=n[0],S=n[1],R=n[2];return Math.abs(g-P)<r.EPSILON&&Math.abs(v-S)<r.EPSILON&&Math.abs(m-R)<r.EPSILON?u(t):(l=g-P,d=v-S,p=m-R,o=b*(p*=M=1/Math.hypot(l,d,p))-x*(d*=M),a=x*(l*=M)-y*p,s=y*d-b*l,(M=Math.hypot(o,a,s))?(o*=M=1/M,a*=M,s*=M):(o=0,a=0,s=0),h=d*s-p*a,c=p*o-l*s,f=l*a-d*o,(M=Math.hypot(h,c,f))?(h*=M=1/M,c*=M,f*=M):(h=0,c=0,f=0),t[0]=o,t[1]=h,t[2]=l,t[3]=0,t[4]=a,t[5]=c,t[6]=d,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(o*g+a*v+s*m),t[13]=-(h*g+c*v+f*m),t[14]=-(l*g+d*v+p*m),t[15]=1,t)}function D(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],h=r[1],u=r[2],c=i-n[0],f=o-n[1],l=a-n[2],d=c*c+f*f+l*l;d>0&&(c*=d=1/Math.sqrt(d),f*=d,l*=d);var p=h*l-u*f,M=u*c-s*l,g=s*f-h*c;return(d=p*p+M*M+g*g)>0&&(p*=d=1/Math.sqrt(d),M*=d,g*=d),t[0]=p,t[1]=M,t[2]=g,t[3]=0,t[4]=f*g-l*M,t[5]=l*p-c*g,t[6]=c*M-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function V(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function k(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function U(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function z(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function X(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function H(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],f=t[8],l=t[9],d=t[10],p=t[11],M=t[12],g=t[13],v=t[14],m=t[15],y=e[0],b=e[1],x=e[2],P=e[3],S=e[4],R=e[5],E=e[6],w=e[7],A=e[8],I=e[9],O=e[10],B=e[11],L=e[12],_=e[13],T=e[14],Y=e[15];return Math.abs(n-y)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-b)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-P)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(P))&&Math.abs(s-S)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(h-R)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(u-E)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-w)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(f-A)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(l-I)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-B)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(M-L)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(g-_)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(_))&&Math.abs(v-T)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(m-Y)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(Y))}var $=p,Q=z},(t,e,n)=>{n.r(e),n.d(e,{create:()=>s,identity:()=>h,setAxisAngle:()=>u,getAxisAngle:()=>c,getAngle:()=>f,multiply:()=>l,rotateX:()=>d,rotateY:()=>p,rotateZ:()=>M,calculateW:()=>g,exp:()=>v,ln:()=>m,pow:()=>y,slerp:()=>b,random:()=>x,invert:()=>P,conjugate:()=>S,fromMat3:()=>R,fromEuler:()=>E,str:()=>w,clone:()=>T,fromValues:()=>Y,copy:()=>C,set:()=>F,add:()=>N,mul:()=>q,scale:()=>j,dot:()=>D,lerp:()=>V,length:()=>k,len:()=>U,squaredLength:()=>z,sqrLen:()=>X,normalize:()=>Z,exactEquals:()=>G,equals:()=>H,rotationTo:()=>$,sqlerp:()=>Q,setAxes:()=>W});var r=n(11),i=n(14),o=n(18),a=n(17);function s(){var t=new r.ARRAY_TYPE(4);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function h(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function c(t,e){var n=2*Math.acos(e[3]),i=Math.sin(n/2);return i>r.EPSILON?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e){var n=D(t,e);return Math.acos(2*n*n-1)}function l(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],h=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*h,t[1]=i*c+a*h+o*s-r*u,t[2]=o*c+a*u+r*h-i*s,t[3]=a*c-r*s-i*h-o*u,t}function d(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+a*s,t[1]=i*h+o*s,t[2]=o*h-i*s,t[3]=a*h-r*s,t}function p(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h-o*s,t[1]=i*h+a*s,t[2]=o*h+r*s,t[3]=a*h-i*s,t}function M(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),h=Math.cos(n);return t[0]=r*h+i*s,t[1]=i*h-r*s,t[2]=o*h+a*s,t[3]=a*h-o*s,t}function g(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),h=a>0?s*Math.sin(a)/a:0;return t[0]=n*h,t[1]=r*h,t[2]=i*h,t[3]=s*Math.cos(a),t}function m(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function y(t,e,n){return m(t,e),j(t,t,n),v(t,t),t}function b(t,e,n,i){var o,a,s,h,u,c=e[0],f=e[1],l=e[2],d=e[3],p=n[0],M=n[1],g=n[2],v=n[3];return(a=c*p+f*M+l*g+d*v)<0&&(a=-a,p=-p,M=-M,g=-g,v=-v),1-a>r.EPSILON?(o=Math.acos(a),s=Math.sin(o),h=Math.sin((1-i)*o)/s,u=Math.sin(i*o)/s):(h=1-i,u=i),t[0]=h*c+u*p,t[1]=h*f+u*M,t[2]=h*l+u*g,t[3]=h*d+u*v,t}function x(t){var e=r.RANDOM(),n=r.RANDOM(),i=r.RANDOM(),o=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*i),t[3]=a*Math.cos(2*Math.PI*i),t}function P(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function R(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function E(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),h=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return t[0]=o*h*c-a*s*u,t[1]=a*s*c+o*h*u,t[2]=a*h*u-o*s*c,t[3]=a*h*c+o*s*u,t}function w(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var A,I,O,B,L,_,T=a.clone,Y=a.fromValues,C=a.copy,F=a.set,N=a.add,q=l,j=a.scale,D=a.dot,V=a.lerp,k=a.length,U=k,z=a.squaredLength,X=z,Z=a.normalize,G=a.exactEquals,H=a.equals,$=(A=o.create(),I=o.fromValues(1,0,0),O=o.fromValues(0,1,0),function(t,e,n){var r=o.dot(e,n);return r<-.999999?(o.cross(A,I,e),o.len(A)<1e-6&&o.cross(A,O,e),o.normalize(A,A),u(t,A,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(A,e,n),t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=1+r,Z(t,t))}),Q=(B=s(),L=s(),function(t,e,n,r,i,o){return b(B,e,i,o),b(L,n,r,o),b(t,B,L,2*o*(1-o)),t}),W=(_=i.create(),function(t,e,n,r){return _[0]=n[0],_[3]=n[1],_[6]=n[2],_[1]=r[0],_[4]=r[1],_[7]=r[2],_[2]=-e[0],_[5]=-e[1],_[8]=-e[2],Z(t,R(t,_))})},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,fromValues:()=>a,copy:()=>s,set:()=>h,add:()=>u,subtract:()=>c,multiply:()=>f,divide:()=>l,ceil:()=>d,floor:()=>p,min:()=>M,max:()=>g,round:()=>v,scale:()=>m,scaleAndAdd:()=>y,distance:()=>b,squaredDistance:()=>x,length:()=>P,squaredLength:()=>S,negate:()=>R,inverse:()=>E,normalize:()=>w,dot:()=>A,cross:()=>I,lerp:()=>O,random:()=>B,transformMat4:()=>L,transformQuat:()=>_,zero:()=>T,str:()=>Y,exactEquals:()=>C,equals:()=>F,sub:()=>q,mul:()=>j,div:()=>D,dist:()=>V,sqrDist:()=>k,len:()=>U,sqrLen:()=>z,forEach:()=>X});var r=n(11);function i(){var t=new r.ARRAY_TYPE(4);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function M(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function g(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function P(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function S(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function R(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function w(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function I(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],h=n[1]*r[3]-n[3]*r[1],u=n[2]*r[3]-n[3]*r[2],c=e[0],f=e[1],l=e[2],d=e[3];return t[0]=f*u-l*h+d*s,t[1]=-c*u+l*a-d*o,t[2]=c*h-f*a+d*i,t[3]=-c*s+f*o-l*i,t}function O(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function B(t,e){var n,i,o,a,s,h;e=e||1;do{s=(n=2*r.RANDOM()-1)*n+(i=2*r.RANDOM()-1)*i}while(s>=1);do{h=(o=2*r.RANDOM()-1)*o+(a=2*r.RANDOM()-1)*a}while(h>=1);var u=Math.sqrt((1-s)/h);return t[0]=e*n,t[1]=e*i,t[2]=e*o*u,t[3]=e*a*u,t}function L(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function _(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],h=n[2],u=n[3],c=u*r+s*o-h*i,f=u*i+h*r-a*o,l=u*o+a*i-s*r,d=-a*r-s*i-h*o;return t[0]=c*u+d*-a+f*-h-l*-s,t[1]=f*u+d*-s+l*-a-c*-h,t[2]=l*u+d*-h+c*-s-f*-a,t[3]=e[3],t}function T(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Y(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function F(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],h=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}var N,q=c,j=f,D=l,V=b,k=x,U=P,z=S,X=(N=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)N[0]=t[a],N[1]=t[a+1],N[2]=t[a+2],N[3]=t[a+3],i(N,N,o),t[a]=N[0],t[a+1]=N[1],t[a+2]=N[2],t[a+3]=N[3];return t})},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,length:()=>a,fromValues:()=>s,copy:()=>h,set:()=>u,add:()=>c,subtract:()=>f,multiply:()=>l,divide:()=>d,ceil:()=>p,floor:()=>M,min:()=>g,max:()=>v,round:()=>m,scale:()=>y,scaleAndAdd:()=>b,distance:()=>x,squaredDistance:()=>P,squaredLength:()=>S,negate:()=>R,inverse:()=>E,normalize:()=>w,dot:()=>A,cross:()=>I,lerp:()=>O,hermite:()=>B,bezier:()=>L,random:()=>_,transformMat4:()=>T,transformMat3:()=>Y,transformQuat:()=>C,rotateX:()=>F,rotateY:()=>N,rotateZ:()=>q,angle:()=>j,zero:()=>D,str:()=>V,exactEquals:()=>k,equals:()=>U,sub:()=>X,mul:()=>Z,div:()=>G,dist:()=>H,sqrDist:()=>$,len:()=>Q,sqrLen:()=>W,forEach:()=>K});var r=n(11);function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function s(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function f(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function M(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function P(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function S(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function R(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function w(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function I(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],h=n[2];return t[0]=i*h-o*s,t[1]=o*a-r*h,t[2]=r*s-i*a,t}function O(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function B(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,h=a*(o-2)+o,u=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*h+r[0]*u+i[0]*c,t[1]=e[1]*s+n[1]*h+r[1]*u+i[1]*c,t[2]=e[2]*s+n[2]*h+r[2]*u+i[2]*c,t}function L(t,e,n,r,i,o){var a=1-o,s=a*a,h=o*o,u=s*a,c=3*o*s,f=3*h*a,l=h*o;return t[0]=e[0]*u+n[0]*c+r[0]*f+i[0]*l,t[1]=e[1]*u+n[1]*c+r[1]*f+i[1]*l,t[2]=e[2]*u+n[2]*c+r[2]*f+i[2]*l,t}function _(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function Y(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function C(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],h=e[1],u=e[2],c=i*u-o*h,f=o*s-r*u,l=r*h-i*s,d=i*l-o*f,p=o*c-r*l,M=r*f-i*c,g=2*a;return c*=g,f*=g,l*=g,d*=2,p*=2,M*=2,t[0]=s+c+d,t[1]=h+f+p,t[2]=u+l+M,t}function F(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function N(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function q(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function j(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],h=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),u=h&&A(t,e)/h;return Math.acos(Math.min(Math.max(u,-1),1))}function D(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function U(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],h=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))}var z,X=f,Z=l,G=d,H=x,$=P,Q=a,W=S,K=(z=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)z[0]=t[a],z[1]=t[a+1],z[2]=t[a+2],i(z,z,o),t[a]=z[0],t[a+1]=z[1],t[a+2]=z[2];return t})},(t,e,n)=>{n.r(e),n.d(e,{create:()=>a,clone:()=>s,fromValues:()=>h,fromRotationTranslationValues:()=>u,fromRotationTranslation:()=>c,fromTranslation:()=>f,fromRotation:()=>l,fromMat4:()=>d,copy:()=>p,identity:()=>M,set:()=>g,getReal:()=>v,getDual:()=>m,setReal:()=>y,setDual:()=>b,getTranslation:()=>x,translate:()=>P,rotateX:()=>S,rotateY:()=>R,rotateZ:()=>E,rotateByQuatAppend:()=>w,rotateByQuatPrepend:()=>A,rotateAroundAxis:()=>I,add:()=>O,multiply:()=>B,mul:()=>L,scale:()=>_,dot:()=>T,lerp:()=>Y,invert:()=>C,conjugate:()=>F,length:()=>N,len:()=>q,squaredLength:()=>j,sqrLen:()=>D,normalize:()=>V,str:()=>k,exactEquals:()=>U,equals:()=>z});var r=n(11),i=n(16),o=n(15);function a(){var t=new r.ARRAY_TYPE(8);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function s(t){var e=new r.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function h(t,e,n,i,o,a,s,h){var u=new r.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=i,u[4]=o,u[5]=a,u[6]=s,u[7]=h,u}function u(t,e,n,i,o,a,s){var h=new r.ARRAY_TYPE(8);h[0]=t,h[1]=e,h[2]=n,h[3]=i;var u=.5*o,c=.5*a,f=.5*s;return h[4]=u*i+c*n-f*e,h[5]=c*i+f*t-u*n,h[6]=f*i+u*e-c*t,h[7]=-u*t-c*e-f*n,h}function c(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],h=e[2],u=e[3];return t[0]=a,t[1]=s,t[2]=h,t[3]=u,t[4]=r*u+i*h-o*s,t[5]=i*u+o*a-r*h,t[6]=o*u+r*s-i*a,t[7]=-r*a-i*s-o*h,t}function f(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function d(t,e){var n=i.create();o.getRotation(n,e);var a=new r.ARRAY_TYPE(3);return o.getTranslation(a,e),c(t,n,a),t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function M(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function g(t,e,n,r,i,o,a,s,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=h,t}var v=i.copy;function m(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var y=i.copy;function b(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function x(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],h=-e[2],u=e[3];return t[0]=2*(n*u+o*a+r*h-i*s),t[1]=2*(r*u+o*s+i*a-n*h),t[2]=2*(i*u+o*h+n*s-r*a),t}function P(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],h=.5*n[1],u=.5*n[2],c=e[4],f=e[5],l=e[6],d=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*u-o*h+c,t[5]=a*h+o*s-r*u+f,t[6]=a*u+r*h-i*s+l,t[7]=-r*s-i*h-o*u+d,t}function S(t,e,n){var r=-e[0],o=-e[1],a=-e[2],s=e[3],h=e[4],u=e[5],c=e[6],f=e[7],l=h*s+f*r+u*a-c*o,d=u*s+f*o+c*r-h*a,p=c*s+f*a+h*o-u*r,M=f*s-h*r-u*o-c*a;return i.rotateX(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=l*s+M*r+d*a-p*o,t[5]=d*s+M*o+p*r-l*a,t[6]=p*s+M*a+l*o-d*r,t[7]=M*s-l*r-d*o-p*a,t}function R(t,e,n){var r=-e[0],o=-e[1],a=-e[2],s=e[3],h=e[4],u=e[5],c=e[6],f=e[7],l=h*s+f*r+u*a-c*o,d=u*s+f*o+c*r-h*a,p=c*s+f*a+h*o-u*r,M=f*s-h*r-u*o-c*a;return i.rotateY(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=l*s+M*r+d*a-p*o,t[5]=d*s+M*o+p*r-l*a,t[6]=p*s+M*a+l*o-d*r,t[7]=M*s-l*r-d*o-p*a,t}function E(t,e,n){var r=-e[0],o=-e[1],a=-e[2],s=e[3],h=e[4],u=e[5],c=e[6],f=e[7],l=h*s+f*r+u*a-c*o,d=u*s+f*o+c*r-h*a,p=c*s+f*a+h*o-u*r,M=f*s-h*r-u*o-c*a;return i.rotateZ(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=l*s+M*r+d*a-p*o,t[5]=d*s+M*o+p*r-l*a,t[6]=p*s+M*a+l*o-d*r,t[7]=M*s-l*r-d*o-p*a,t}function w(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],h=e[1],u=e[2],c=e[3];return t[0]=s*a+c*r+h*o-u*i,t[1]=h*a+c*i+u*r-s*o,t[2]=u*a+c*o+s*i-h*r,t[3]=c*a-s*r-h*i-u*o,s=e[4],h=e[5],u=e[6],c=e[7],t[4]=s*a+c*r+h*o-u*i,t[5]=h*a+c*i+u*r-s*o,t[6]=u*a+c*o+s*i-h*r,t[7]=c*a-s*r-h*i-u*o,t}function A(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],h=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*h,t[1]=i*c+a*h+o*s-r*u,t[2]=o*c+a*u+r*h-i*s,t[3]=a*c-r*s-i*h-o*u,s=n[4],h=n[5],u=n[6],c=n[7],t[4]=r*c+a*s+i*u-o*h,t[5]=i*c+a*h+o*s-r*u,t[6]=o*c+a*u+r*h-i*s,t[7]=a*c-r*s-i*h-o*u,t}function I(t,e,n,i){if(Math.abs(i)<r.EPSILON)return p(t,e);var o=Math.hypot(n[0],n[1],n[2]);i*=.5;var a=Math.sin(i),s=a*n[0]/o,h=a*n[1]/o,u=a*n[2]/o,c=Math.cos(i),f=e[0],l=e[1],d=e[2],M=e[3];t[0]=f*c+M*s+l*u-d*h,t[1]=l*c+M*h+d*s-f*u,t[2]=d*c+M*u+f*h-l*s,t[3]=M*c-f*s-l*h-d*u;var g=e[4],v=e[5],m=e[6],y=e[7];return t[4]=g*c+y*s+v*u-m*h,t[5]=v*c+y*h+m*s-g*u,t[6]=m*c+y*u+g*h-v*s,t[7]=y*c-g*s-v*h-m*u,t}function O(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function B(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],h=n[5],u=n[6],c=n[7],f=e[4],l=e[5],d=e[6],p=e[7],M=n[0],g=n[1],v=n[2],m=n[3];return t[0]=r*m+a*M+i*v-o*g,t[1]=i*m+a*g+o*M-r*v,t[2]=o*m+a*v+r*g-i*M,t[3]=a*m-r*M-i*g-o*v,t[4]=r*c+a*s+i*u-o*h+f*m+p*M+l*v-d*g,t[5]=i*c+a*h+o*s-r*u+l*m+p*g+d*M-f*v,t[6]=o*c+a*u+r*h-i*s+d*m+p*v+f*g-l*M,t[7]=a*c-r*s-i*h-o*u+p*m-f*M-l*g-d*v,t}var L=B;function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var T=i.dot;function Y(t,e,n,r){var i=1-r;return T(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function C(t,e){var n=j(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function F(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var N=i.length,q=N,j=i.squaredLength,D=j;function V(t,e){var n=j(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],h=e[5],u=e[6],c=e[7],f=r*s+i*h+o*u+a*c;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-r*f)/n,t[5]=(h-i*f)/n,t[6]=(u-o*f)/n,t[7]=(c-a*f)/n}return t}function k(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function z(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5],u=t[6],c=t[7],f=e[0],l=e[1],d=e[2],p=e[3],M=e[4],g=e[5],v=e[6],m=e[7];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-M)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(h-g)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-m)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))}},(t,e,n)=>{n.r(e),n.d(e,{create:()=>i,clone:()=>o,fromValues:()=>a,copy:()=>s,set:()=>h,add:()=>u,subtract:()=>c,multiply:()=>f,divide:()=>l,ceil:()=>d,floor:()=>p,min:()=>M,max:()=>g,round:()=>v,scale:()=>m,scaleAndAdd:()=>y,distance:()=>b,squaredDistance:()=>x,length:()=>P,squaredLength:()=>S,negate:()=>R,inverse:()=>E,normalize:()=>w,dot:()=>A,cross:()=>I,lerp:()=>O,random:()=>B,transformMat2:()=>L,transformMat2d:()=>_,transformMat3:()=>T,transformMat4:()=>Y,rotate:()=>C,angle:()=>F,zero:()=>N,str:()=>q,exactEquals:()=>j,equals:()=>D,len:()=>k,sub:()=>U,mul:()=>z,div:()=>X,dist:()=>Z,sqrDist:()=>G,sqrLen:()=>H,forEach:()=>$});var r=n(11);function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function h(t,e,n){return t[0]=e,t[1]=n,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function M(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function g(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function P(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function S(t){var e=t[0],n=t[1];return e*e+n*n}function R(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function w(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function A(t,e){return t[0]*e[0]+t[1]*e[1]}function I(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function O(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function B(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function L(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function _(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function T(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Y(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function C(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function F(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function N(t){return t[0]=0,t[1]=0,t}function q(t){return"vec2("+t[0]+", "+t[1]+")"}function j(t,e){return t[0]===e[0]&&t[1]===e[1]}function D(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}var V,k=P,U=c,z=f,X=l,Z=b,G=x,H=S,$=(V=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)V[0]=t[a],V[1]=t[a+1],i(V,V,o),t[a]=V[0],t[a+1]=V[1];return t})},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;const r=n(22),i=n(23),o=n(32),a=n(30);class s{constructor(t={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.color="hsla(0, 0%, 100%, 1)",this.currentTime=0,void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.background&&(this.background=t.background),void 0!==t.color&&(this.color=t.color),this.children=[],this.center=[this.width/2,this.height/2],this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?(.5+.5*a.clamp(-1,1,t.anchor[0]))*this.width:"left"===t.anchor[0]?0:"right"===t.anchor[0]?this.width:this.center[0],"number"==typeof t.anchor[1]?(.5+.5*a.clamp(-1,1,t.anchor[1]))*this.height:"top"===t.anchor[1]?0:"bottom"===t.anchor[1]?this.height:this.center[1]]:[this.center[0],this.center[1]]}getWidth(t=100){return this.width*t/100}getHeight(t=100){return this.height*t/100}resize(t,e=t){this.width=t,this.height=e,this.center=[this.width/2,this.height/2];const n=[this.width/this.anchor[0],this.height/this.anchor[1]];this.anchor=[this.width/n[0],this.height/n[1]],this.children.forEach((t=>t.clearBuffer(!0,!1)))}update(t=0){this.currentTime=t;for(let t=0,e=this.children.length;t<e;t++)this.children[t].generate(this.currentTime,!0)}stream(t){this.children.forEach((e=>e.stream(t)))}getChildren(){return this.children}add(...t){const e="number"==typeof t[t.length-1]?t[t.length-1]:void 0,n=t.length-(void 0===e?0:1);for(let r=0;r<n;r++){const n=t[r];n.order=void 0!==e?e+r:void 0!==n.order?n.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,s.propagateToChilden(n,this),this.children.push(n),n.clearBuffer(!0,!1),n.generate(0,!0)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t)))}find(t){const e=this.getChildren();for(let n=0,r=e.length;n<r;n++){const r=e[n].find(t);if(null!==r)return r}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){t>=0&&t<this.children.length&&this.children.splice(t,1)}removeChildren(){this.children=[]}removeFromId(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t||this.children[e].name===t)return void this.children.splice(e,1)}isFirstLevelChild(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t.id)return!0;const e=this.getParentsOfSceneChild(t);return 1===e.length&&e[0]instanceof i.Group}getParentsOfSceneChild(t){const e=s.getParentsOfSceneChild(this,t);return e?(e.splice(0,1),e):[]}static getParentsOfSceneChild(t,e,n=[]){let a;if(t instanceof r.SceneChild){if(t.id==e.id)return n;if(t instanceof o.Shape&&t.shape){const r=n.slice();if(r.push(t),a=s.getParentsOfSceneChild(t.shape,e,r))return a}}if(t instanceof s||t instanceof i.Group){const r=t.getChildren();n.push(t);for(let t=0,i=r.length;t<i;t++){const i=r[t];if(a=s.getParentsOfSceneChild(i,e,n))return a}n.pop()}return null}static walk(t,e){if(e instanceof r.SceneChild){if(!1===t(e))return!1;if(e instanceof o.Shape&&e.shape&&!1===s.walk(t,e.shape))return!1}if(e instanceof s||e instanceof i.Group){const n=e.getChildren();for(let e=0,r=n.length;e<r;e++){const r=n[e];if(!1===s.walk(t,r))return!1}}}static propagateToChilden(t,e){t.scene=e,t instanceof i.Group?t.getChildren().forEach((t=>{s.propagateToChilden(t,e)})):t instanceof o.Shape&&t.shape&&(t.shape.scene=e,s.propagateToChilden(t.shape,e))}}e.Scene=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneChild=void 0;let n=0;e.SceneChild=class{constructor(t){var e;this.generateId=-1,this.id=null!==(e=t.id)&&void 0!==e?e:++n,this.type=t.type||"SceneChild",this.name=t.name||this.type+"_"+this.id,this.data=t.data||{},this.props={}}find(t){return this.id===t||this.name===t?this:null}getProps(){return this.props}getProp(t,e,n){var r;return null!==(r=this.props[t])&&void 0!==r?r:n}hasProp(t){return void 0!==this.props[t]}setPropUnsafe(t,e){"string"==typeof t?this.props[t]=e:Object.keys(t).forEach((e=>this.props[e]=t[e]))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const r=n(21),i=n(22),o=n(24),a=n(28);class s extends i.SceneChild{constructor(t={}){t.type="Group",super(t),this.children=[],["id","name","data","order","type"].forEach((e=>{e in t&&delete t[e]})),this.props=t}isStatic(){const t=this.children;for(let e=0,n=t.length;e<n;e++)if(!t[e].isStatic())return!1;return!0}isStaticIndexed(){const t=this.children;for(let e=0,n=t.length;e<n;e++)if(!t[e].isStaticIndexed())return!1;return!0}add(...t){for(let e=0,n=t.length;e<n;e++){const n=t[e],i=n.getProps();Object.keys(this.props).forEach((t=>{void 0===i[t]&&n.setProp(t,this.props[t])})),n.order=void 0!==n.order?n.order:this.children.length>0?Math.max.apply(this,this.children.map((t=>t.order||0)))+1:0,this.scene&&r.Scene.propagateToChilden(n,this.scene),this.children.push(n)}this.sortChildren()}sortChildren(){this.children.sort(((t,e)=>t.order-e.order)),this.children=this.children.map(((t,e)=>(t.order=e,t))),this.clearBuffer(!0)}getChildren(){return this.children}find(t){if(this.id===t||this.name===t)return this;const e=this.getChildren();for(let n=0,r=e.length;n<r;n++){const r=e[n].find(t);if(null!==r)return r}return null}get(t){return t>=0&&t<this.children.length?this.children[t]:null}remove(t){if(t>=0&&t<this.children.length){const e=this.children.splice(t,1);return this.clearBuffer(!0),e}return!1}removeFromId(t){for(let e=0,n=this.children.length;e<n;e++)if(this.children[e].id==t)return this.children.splice(e,1),this.clearBuffer(!0)}generate(t,e=!1,n){this.generateId=t,this.children.forEach((r=>r.generate(t,e,n)))}getBounding(){const t=[],e=a.Bounding.empty();if(this.children.length>0){this.children.forEach((e=>t.push(e.getBounding())));for(let n=0,r=this.children.length;n<r;n++)e.x=e.x>t[n].x?t[n].x:e.x,e.y=e.y>t[n].y?t[n].y:e.y,e.width=e.width<t[n].width?t[n].width:e.width,e.height=e.height<t[n].height?t[n].height:e.height;e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}return e}clearBuffer(t=!1,e=!0){if(this.children.forEach((e=>e.clearBuffer(t,!1))),this.scene&&e){const n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}}setProp(t,e){"object"==typeof t?Object.keys(t).forEach((e=>this.props[e]=t[e])):this.props[t]=e,this.children.forEach((n=>n.setProp(t,e)))}setPropUnsafe(t,e){super.setPropUnsafe(t,e),this.children.forEach((n=>n.setPropUnsafe(t,e)))}getBufferLength(t){return this.children.map((e=>e.getBufferLength(t))).reduce(((t,e)=>t+e),0)}getBuffer(){const t=this.children.map((t=>t.getBuffer())).filter((t=>void 0!==t)),e=t.reduce(((t,e)=>t+e.length),0);if(e>0){const n=new Float32Array(e);n.set(t[0],0);for(let e=1,r=0,i=t.length;e<i;e++)r+=t[e-1].length,n.set(t[e],r);return n}return o.ShapeBase.EMPTY_BUFFER}getIndexedBuffer(){const t=this.children.map((t=>t.getIndexedBuffer())).filter((t=>void 0!==t));return[].concat.apply([],t)}stream(t){this.children.forEach((e=>e.stream(t)))}}e.Group=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBase=void 0;const r=n(10),i=n(1),o=n(25),a=n(26),s=n(27),h=n(28),u=n(30),c=n(22),f=r.mat4.create(),l=r.mat4.create(),d=r.mat4.create(),p=r.mat4.create();class M extends c.SceneChild{constructor(t={}){super(t),this.bIndexed=!1,this.indexedBuffer=[],this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:t.distance,repetitions:t.repetitions,rotateX:t.rotateX,rotateY:t.rotateY,rotateZ:t.rotateZ,skewX:t.skewX,skewY:t.skewY,squeezeX:t.squeezeX,squeezeY:t.squeezeY,displace:t.displace,translate:t.translate,scale:t.scale,transformOrigin:t.transformOrigin,perspective:t.perspective,perspectiveOrigin:t.perspectiveOrigin},this.anchor=t.anchor&&Array.isArray(t.anchor)?["number"==typeof t.anchor[0]?-1*u.clamp(-1,1,t.anchor[0]):"left"===t.anchor[0]?1:"right"===t.anchor[0]?-1:0,"number"==typeof t.anchor[1]?-1*u.clamp(-1,1,t.anchor[1]):"top"===t.anchor[1]?1:"bottom"===t.anchor[1]?-1:0]:[0,0],this.boundingType="string"==typeof t.boundingType?"relative"===t.boundingType?i.EBoundingType.Relative:i.EBoundingType.Fixed:t.boundingType||i.EBoundingType.Fixed,this.vertexCallback=t.vertexCallback}isStatic(){const t=this.props;return"function"!=typeof t.repetitions&&"function"!=typeof t.distance&&"function"!=typeof t.displace&&"function"!=typeof t.scale&&"function"!=typeof t.translate&&"function"!=typeof t.skewX&&"function"!=typeof t.skewY&&"function"!=typeof t.squeezeX&&"function"!=typeof t.squeezeY&&"function"!=typeof t.rotateX&&"function"!=typeof t.rotateY&&"function"!=typeof t.rotateZ&&"function"!=typeof t.transformOrigin&&"function"!=typeof t.perspective&&"function"!=typeof t.perspectiveOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(t,e,n){let r=this.props[t];return"function"==typeof r&&(r=r(e)),void 0===r||Number.isNaN(r)?n:r}setProp(t,e,n=!1){"string"==typeof t?(n=n||"repetitions"==t,this.props[t]=e):(n=n||"repetitions"in t,Object.keys(t).forEach((e=>this.props[e]=t[e]))),this.clearBuffer(n,!0)}clearBuffer(t=!1,e=!0){if(this.buffer=void 0,t&&(this.bIndexed=!1,this.indexedBuffer=[]),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),e&&this.scene&&!this.scene.isFirstLevelChild(this)){const n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}}generate(t=0,e=!1,n){var c,g;if(this.buffer&&this.bStatic)return;this.generateId=t,this.bStaticIndexed&&this.bIndexed||(this.indexedBuffer=[]);const v=M.getEmptyPropArguments(this,n),m=v.repetition,y=this.getProp("repetitions",v,1),b=Array.isArray(y)?i.ERepetitionType.Matrix:i.ERepetitionType.Ring,x=Array.isArray(y)?y[0]*(null!==(c=y[1])&&void 0!==c?c:y[0]):y,P=Array.isArray(y)?y[0]:x,S=Array.isArray(y)?null!==(g=y[1])&&void 0!==g?g:y[0]:1,R=m.row;R.count=P;const E=m.col;E.count=S,m.count=x,m.col.count=S,m.row.count=P,m.type=b;let w=0;const A=[];let I=0;const O=r.vec2.fromValues((S-1)/2,(P-1)/2),B=this.scene?[this.scene.anchor[0],this.scene.anchor[1],0]:[0,0,0],L=[void 0,void 0,void 0,void 0],_=[void 0,void 0,void 0,void 0];for(let n=0;n<P;n++)for(let c=0;c<S;c++,I++){m.index=I+1,m.offset=x>1?I/(x-1):1,m.angle=b===i.ERepetitionType.Ring?s.PI2/x*I:0,E.index=c+1,E.offset=S>1?c/(S-1):1,R.index=n+1,R.offset=P>1?n/(P-1):1;const M=this.generateBuffer(t,v),g=M.length,y=this.getShapeBounding();A[I]=new Float32Array(g),w+=g;{const t=o.toVec2(this.getProp("distance",v,o.VEC2_ZERO)),s=this.getProp("displace",v,0),x=o.toVec3(this.getProp("scale",v,o.VEC2_ONE),1),P=o.toVec3(this.getProp("translate",v,o.VEC2_ZERO),0),S=this.getProp("skewX",v,0),R=this.getProp("skewY",v,0),E=this.getProp("squeezeX",v,0),w=this.getProp("squeezeY",v,0),T=this.getProp("rotateX",v,0),Y=this.getProp("rotateY",v,0),C=this.getProp("rotateZ",v,0),F=u.clamp(0,1,this.getProp("perspective",v,0)),N=o.toVec3(this.getProp("perspectiveOrigin",v,o.VEC2_ZERO),0),q=o.toVec3(this.getProp("transformOrigin",v,o.VEC2_ZERO),0);let j;switch(b){case i.ERepetitionType.Ring:j=r.vec3.fromValues(t[0],0,0),r.vec3.rotateZ(j,j,o.VEC3_ZERO,m.angle+s);break;case i.ERepetitionType.Matrix:j=r.vec3.fromValues(t[1]*(c-O[0]),t[0]*(n-O[1]),0)}const D=F>0?Math.max(y.width,y.height)/2:1,V=F>0?D+10*D*(1-F):0,k=this.boundingType!==i.EBoundingType.Relative||0!==y.cx||0!==y.cy||0!==F||0!==q[0]||0!==q[1],U=0!==N[0]||0!==N[1];k&&(this.boundingType===i.EBoundingType.Relative?(q[0]=q[0]*(y.width/2)+y.cx,q[1]=q[1]*(y.height/2)+y.cy):(q[0]*=y.width/2,q[1]*=y.height/2),q[2]=V);{r.mat4.identity(l),k&&r.mat4.translate(l,l,q),0===P[0]&&0===P[1]||r.mat4.translate(l,l,P),0===S&&0===R||(o.fromSkew(f,[S,R]),r.mat4.multiply(l,l,f)),0!==T&&r.mat4.rotateX(l,l,T),0!==Y&&r.mat4.rotateY(l,l,Y),0!==C&&r.mat4.rotateZ(l,l,C),1===x[0]&&1===x[1]||r.mat4.scale(l,l,x),k&&r.mat4.translate(l,l,r.vec3.scale(q,q,-1)),V>0&&(U&&(this.boundingType===i.EBoundingType.Relative?(N[0]=N[0]*(y.width/2)+y.cx,N[1]=N[1]*(y.height/2)+y.cy):(N[0]*=y.width/2,N[1]*=y.height/2),N[2]=0),r.mat4.perspective(d,-Math.PI/2,1,0,1/0)),r.mat4.identity(p),r.mat4.translate(p,p,j),e&&r.mat4.translate(p,p,B);const t=[this.anchor[0]*(y.width/2),this.anchor[1]*(y.height/2),0];r.mat4.translate(p,p,t),b===i.ERepetitionType.Ring&&r.mat4.rotateZ(p,p,m.angle+s)}h.Bounding.clear(_);for(let t=0;t<g;t+=2){const e=[M[t],M[t+1],V];if(0!==E&&a.default.squeezeX(e,E),0!==w&&a.default.squeezeY(e,w),r.vec3.transformMat4(e,e,l),V>0&&(U&&r.vec3.add(e,e,N),r.vec3.transformMat4(e,e,d),r.vec3.scale(e,e,V),U&&r.vec3.sub(e,e,N)),r.vec3.transformMat4(e,e,p),void 0!==this.vertexCallback){const n=t/2,r=g/2,i={index:n+1,count:r,offset:r>1?n/(r-1):1};this.vertexCallback(e,i,v)}A[I][t]=e[0],A[I][t+1]=e[1],h.Bounding.add(_,e[0],e[1]),h.Bounding.add(L,e[0],e[1])}}const T={cx:0,cy:0,x:-1,y:-1,width:2,height:2};h.Bounding.bind(T,_),this.bStaticIndexed&&this.bIndexed||this.addIndex(g,m,T)}h.Bounding.bind(this.bounding,L),this.buffer=new Float32Array(w);for(let t=0,e=0,n=A.length;t<n;e+=A[t].length,t++)this.buffer.set(A[t],e);this.bIndexed=!0}getBounding(){return this.bounding}getRepetitionCount(){var t;const e=this.getProp("repetitions",void 0,1);return Array.isArray(e)?e[0]*(null!==(t=e[1])&&void 0!==t?t:e[0]):e}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexedBuffer}static getIndexParentLevel(t){if(void 0===t.parent)return 0;let e=t.parent,n=1;for(;void 0!==e.parent;)n++,e=e.parent;return n}stream(t){if(this.buffer&&this.indexedBuffer)for(let e=0,n=0,r=this.indexedBuffer.length;e<r;e++){const i=this.indexedBuffer[e];t({buffer:this.buffer,frameLength:i.frameLength,frameBufferIndex:n,currentIndexing:i,currentShapeIndex:e,totalShapes:r}),n+=i.frameLength}}static getEmptyPropArguments(t,e){return{repetition:{type:i.ERepetitionType.Ring,angle:0,index:1,offset:1,count:1,row:{index:1,offset:1,count:1},col:{index:1,offset:1,count:1}},shape:t,parent:e}}}e.ShapeBase=M,M.EMPTY_BUFFER=new Float32Array(0),M.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),M.getEmptyRepetition=()=>({type:i.ERepetitionType.Ring,angle:0,...M.getEmptySimpleRepetition(),row:M.getEmptySimpleRepetition(),col:M.getEmptySimpleRepetition()})},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toVec3=e.toVec2=e.fromSkew=e.VEC2_ONE=e.VEC2_ZERO=e.VEC3_ONE=e.VEC3_ZERO=void 0;const r=n(10);e.VEC3_ZERO=[0,0,0],e.VEC3_ONE=[1,1,1],e.VEC2_ZERO=[0,0],e.VEC2_ONE=[1,1],r.glMatrix.setMatrixArrayType(Array),e.fromSkew=function(t,e){return t[0]=1,t[1]=Math.tan(e[1]),t[2]=0,t[3]=0,t[4]=Math.tan(e[0]),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.toVec2=function(t){return Array.isArray(t)?[t[0],t[1]]:[t,t]},e.toVec3=function(t,e=0){return Array.isArray(t)?[t[0],t[1],e]:[t,t,e]}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=new Array(4),r={from:(t=0,e)=>{const n=new Array(2);return"number"==typeof t?(n[0]=t,n[1]=null!=e?e:t):(n[0]=t[0],n[1]=t[1]),n},normalize:t=>{const e=r.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:(t,e)=>t[0]*e[0]+t[1]*e[1],length:t=>Math.hypot(t[0],t[1]),angle:(t,e)=>(t=r.normalize(t),e=r.normalize(e),Math.acos(r.dot(t,e))),skewX:(t,e)=>{t[0]+=Math.tan(e)*t[1]},skewY:(t,e)=>{t[1]+=Math.tan(e)*t[0]},squeezeX:(t,e)=>{t[1]+=t[1]*(t[0]*-e)},squeezeY:(t,e)=>{t[0]+=t[0]*(t[1]*e)},rotate:(t,e,n)=>{const r=t[0]-n[0],i=t[1]-n[1];t[0]=r*e[0]+i*e[1]+n[0],t[1]=r*e[2]+i*e[3]+n[1]},rotateX:(t,e,i)=>{n[0]=1,n[1]=0,n[2]=0,n[3]=Math.cos(i),r.rotate(t,n,e)},rotateY:(t,e,i)=>{n[0]=Math.cos(i),n[1]=0,n[2]=0,n[3]=1,r.rotate(t,n,e)},rotateZ:(t,e,i)=>{n[0]=Math.cos(i),n[1]=-Math.sin(i),n[2]=Math.sin(i),n[3]=Math.cos(i),r.rotate(t,n,e)},translate:(t,e)=>{t[0]+=e[0],t[1]+=e[1]},scale:(t,e)=>{t[0]*=e[0],t[1]*=e[1]},divide:(t,e)=>{t[0]/=e[0],t[1]/=e[1]},toString:t=>`x: ${t[0]}, y: ${t[1]}`,ZERO:Array.from([0,0]),ONE:Array.from([1,1])};e.default=r},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mod=e.PHI=e.PI2=e.log=void 0,e.log=(t,e)=>Math.log(t)/Math.log(e),e.PI2=2*Math.PI,e.PHI=(1+Math.sqrt(5))/2,e.mod=(t,e)=>{const n=t%e;return n<0?n+e:n}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Adapt=e.Bounding=e.EAdaptMode=void 0;const r=n(29);var i;!function(t){t[t.None=0]="None",t[t.Scale=2]="Scale",t[t.Center=4]="Center",t[t.Fill=8]="Fill"}(i=e.EAdaptMode||(e.EAdaptMode={})),e.Bounding={empty:()=>({cx:0,cy:0,x:-1,y:-1,width:2,height:2}),clear:t=>{t[0]=void 0,t[1]=void 0,t[2]=void 0,t[3]=void 0},add:(t,e,n)=>{(void 0===t[0]||e<t[0])&&(t[0]=e),(void 0===t[2]||e>t[2])&&(t[2]=e),(void 0===t[1]||n<t[1])&&(t[1]=n),(void 0===t[3]||n>t[3])&&(t[3]=n)},sum:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]<e[0]&&(t[0]=e[0]),t[2]>e[2]&&(t[2]=e[2]),t[1]<e[1]&&(t[1]=e[1]),t[3]>e[3]&&(t[3]=e[3])):console.warn("[Urplfanze:Bounding] cannot sum bounding")},bind:(t,e)=>{void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?(t.x=e[0],t.y=e[1],t.width=e[2]-e[0],t.height=e[3]-e[1],t.cx=t.x+t.width/2,t.cy=t.y+t.height/2):console.warn("[Urplfanze:Bounding] cannot bind bounding")}};class o extends r.Modifier{constructor(t){super(),this.mode=t.mode||i.Fill,this.rect=t.rect}apply(t,e){return o.adapt(t,this.mode,this.rect)}static adapt(t,e,n){if(e===i.None)return Float32Array.from(t);const r=new Float32Array(t.length);n||(n=o.getBounding(t));const a=n.width>=2||n.height>=2||e>=i.Fill&&(n.width<2||n.height<2)?2/Math.max(n.width,n.height):1,s=e>=i.Center?n.cx:0,h=e>=i.Center?n.cy:0;for(let e=0,n=t.length;e<n;e+=2)r[e]=(t[e]-s)*a,r[e+1]=(t[e+1]-h)*a;return r}static getBounding(t,n){void 0===n&&(n=e.Bounding.empty());const r=[void 0,void 0,void 0,void 0];for(let n=0,i=t.length;n<i;n+=2)e.Bounding.add(r,t[n],t[n+1]);return e.Bounding.bind(n,r),n}}e.Adapt=o,o.MODES=i},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0,e.Modifier=class{}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distributePointsInBuffer=e.interpolate=e.prepareBufferForInterpolation=e.distanceFromRepetition=e.angle2FromRepetition=e.angleFromRepetition=e.random=e.noise=e.relativeClamp=e.clamp=e.lerp=e.toRadians=e.toDegrees=e.now=void 0;const r=n(31),i=n(4),o=n(26),a="undefined"!=typeof performance?performance:Date;function s(t,e,n){return n<=t?t:n>=e?e:n}e.now=function(){return a.now()},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.lerp=function(t,e,n){return(1-n)*t+n*e},e.clamp=s,e.relativeClamp=function(t,e,n,r,i){return s(r,i,(n-t)/(e-t)*(i-r)+r)};const h={random:new r(Math.random)};e.noise=function(t="random",e=0,n=0,i=0){return void 0===h[t]&&(h[t]=new r(t)),h[t].noise3D(e,n,i)};const u={};function c(t,e){const n=t.length,r=e.length;if(n===r)return[t,e];const i=Math.abs(n-r),o=n<r?e:t,a=f(n<r?t:e,Math.floor(i/2));return n>r?[o,a]:[a,o]}function f(t,e){const n=t.length,r=n/2,i=2*(r+e),o=r-1;if(o>1){const r=n-2,a=Math.floor(e/o);let s=(i-(n+a*r))/2;const h=Math.round(o/s),u=new Float32Array(i);for(let e=0,n=0,i=0;e<r;e+=2,n++,i+=2){const o=t[e],c=t[e+1],f=t[e+2],l=t[e+3];u[i]=o,u[i+1]=c;const d=s>0&&(n%h==0||e===r-2),p=a+(d?1:0),M=1/(p+1);for(let t=0;t<p;t++,i+=2){const e=M*(t+1);u[i+2]=(1-e)*o+e*f,u[i+3]=(1-e)*c+e*l}d&&s--}return u[i-2]=t[n-2],u[i-1]=t[n-1],u}const a=new Float32Array(i);for(let e=0;e<i;e+=2)a[e]=t[e%n],a[e+1]=t[(e+1)%n];return a}e.random=function(t,e=0,n=1,r){const i=t+"";if(void 0===u[i]){const t=function(t){let e=0,n=1779033703^t.length;for(;e<t.length;e++)n=Math.imul(n^t.charCodeAt(e),3432918353),n=n<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}}(i);u[i]=(o=t(),a=t(),s=t(),h=t(),function(){let t=(o>>>=0)+(a>>>=0)|0;return o=a^a>>>9,a=(s>>>=0)+(s<<3)|0,t=t+(h=1+(h>>>=0)|0)|0,s=(s=s<<21|s>>>11)+t|0,(t>>>0)/4294967296})}var o,a,s,h;const c=e+u[i]()*(n-e);return void 0!==r?Math.round(c*10**r)/10**r:c},e.angleFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[(t.col.count-1)/2,(t.row.count-1)/2];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=t.col.index-1-n[0],i=t.row.index-1-n[1];return 0===r?0:Math.atan(i/r)}return(t.angle-Math.PI)/2},e.angle2FromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[(t.col.count-1)/2,(t.row.count-1)/2];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=t.col.index-1-n[0],i=t.row.index-1-n[1];return 0===r?0:Math.atan2(i,r)}return t.angle-Math.PI},e.distanceFromRepetition=function(t,e=[0,0]){if(t.type===i.ERepetitionType.Matrix){const n=[.5,.5];n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];const r=[t.col.offset,t.row.offset];return o.default.distance(r,n)}return 1},e.prepareBufferForInterpolation=c,e.interpolate=function(t,e,n=.5){const[r,i]=c(t,e),o=Math.max(r.length,i.length),a="number"==typeof n?[n]:n,s=o/2;if(a.length!==s){const t=a.length;for(let e=0;e<s;e++)a[e]=a[e%t]}const h=new Float32Array(o);for(let t=0,e=0;t<o;t+=2,e++)h[t]=(1-a[e])*r[t]+a[e]*i[t],h[t+1]=(1-a[e])*r[t+1]+a[e]*i[t+1];return h},e.distributePointsInBuffer=f},(t,e,n)=>{var r;!function(){var i=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,s=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function u(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,r=1,i=f();t=i(" "),e=i(" "),n=i(" ");for(var o=0;o<arguments.length;o++)(t-=i(arguments[o]))<0&&(t+=1),(e-=i(arguments[o]))<0&&(e+=1),(n-=i(arguments[o]))<0&&(n+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*r;return t=e,e=n,n=i-(r=0|i)}}(t):Math.random,this.p=c(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function c(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var r=e+~~(t()*(256-e)),i=n[e];n[e]=n[r],n[r]=i}return n}function f(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}u.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,r,a=this.permMod12,s=this.perm,h=this.grad3,u=0,c=0,f=0,l=(t+e)*i,d=Math.floor(t+l),p=Math.floor(e+l),M=(d+p)*o,g=t-(d-M),v=e-(p-M);g>v?(n=1,r=0):(n=0,r=1);var m=g-n+o,y=v-r+o,b=g-1+2*o,x=v-1+2*o,P=255&d,S=255&p,R=.5-g*g-v*v;if(R>=0){var E=3*a[P+s[S]];u=(R*=R)*R*(h[E]*g+h[E+1]*v)}var w=.5-m*m-y*y;if(w>=0){var A=3*a[P+n+s[S+r]];c=(w*=w)*w*(h[A]*m+h[A+1]*y)}var I=.5-b*b-x*x;if(I>=0){var O=3*a[P+1+s[S+1]];f=(I*=I)*I*(h[O]*b+h[O+1]*x)}return 70*(u+c+f)},noise3D:function(t,e,n){var r,i,o,s,h,u,c,f,l,d,p=this.permMod12,M=this.perm,g=this.grad3,v=.3333333333333333*(t+e+n),m=Math.floor(t+v),y=Math.floor(e+v),b=Math.floor(n+v),x=(m+y+b)*a,P=t-(m-x),S=e-(y-x),R=n-(b-x);P>=S?S>=R?(h=1,u=0,c=0,f=1,l=1,d=0):P>=R?(h=1,u=0,c=0,f=1,l=0,d=1):(h=0,u=0,c=1,f=1,l=0,d=1):S<R?(h=0,u=0,c=1,f=0,l=1,d=1):P<R?(h=0,u=1,c=0,f=0,l=1,d=1):(h=0,u=1,c=0,f=1,l=1,d=0);var E=P-h+a,w=S-u+a,A=R-c+a,I=P-f+2*a,O=S-l+2*a,B=R-d+2*a,L=P-1+.5,_=S-1+.5,T=R-1+.5,Y=255&m,C=255&y,F=255&b,N=.6-P*P-S*S-R*R;if(N<0)r=0;else{var q=3*p[Y+M[C+M[F]]];r=(N*=N)*N*(g[q]*P+g[q+1]*S+g[q+2]*R)}var j=.6-E*E-w*w-A*A;if(j<0)i=0;else{var D=3*p[Y+h+M[C+u+M[F+c]]];i=(j*=j)*j*(g[D]*E+g[D+1]*w+g[D+2]*A)}var V=.6-I*I-O*O-B*B;if(V<0)o=0;else{var k=3*p[Y+f+M[C+l+M[F+d]]];o=(V*=V)*V*(g[k]*I+g[k+1]*O+g[k+2]*B)}var U=.6-L*L-_*_-T*T;if(U<0)s=0;else{var z=3*p[Y+1+M[C+1+M[F+1]]];s=(U*=U)*U*(g[z]*L+g[z+1]*_+g[z+2]*T)}return 32*(r+i+o+s)},noise4D:function(t,e,n,r){var i,o,a,u,c,f,l,d,p,M,g,v,m,y,b,x,P,S=this.perm,R=this.grad4,E=(t+e+n+r)*s,w=Math.floor(t+E),A=Math.floor(e+E),I=Math.floor(n+E),O=Math.floor(r+E),B=(w+A+I+O)*h,L=t-(w-B),_=e-(A-B),T=n-(I-B),Y=r-(O-B),C=0,F=0,N=0,q=0;L>_?C++:F++,L>T?C++:N++,L>Y?C++:q++,_>T?F++:N++,_>Y?F++:q++,T>Y?N++:q++;var j=L-(f=C>=3?1:0)+h,D=_-(l=F>=3?1:0)+h,V=T-(d=N>=3?1:0)+h,k=Y-(p=q>=3?1:0)+h,U=L-(M=C>=2?1:0)+2*h,z=_-(g=F>=2?1:0)+2*h,X=T-(v=N>=2?1:0)+2*h,Z=Y-(m=q>=2?1:0)+2*h,G=L-(y=C>=1?1:0)+3*h,H=_-(b=F>=1?1:0)+3*h,$=T-(x=N>=1?1:0)+3*h,Q=Y-(P=q>=1?1:0)+3*h,W=L-1+4*h,K=_-1+4*h,J=T-1+4*h,tt=Y-1+4*h,et=255&w,nt=255&A,rt=255&I,it=255&O,ot=.6-L*L-_*_-T*T-Y*Y;if(ot<0)i=0;else{var at=S[et+S[nt+S[rt+S[it]]]]%32*4;i=(ot*=ot)*ot*(R[at]*L+R[at+1]*_+R[at+2]*T+R[at+3]*Y)}var st=.6-j*j-D*D-V*V-k*k;if(st<0)o=0;else{var ht=S[et+f+S[nt+l+S[rt+d+S[it+p]]]]%32*4;o=(st*=st)*st*(R[ht]*j+R[ht+1]*D+R[ht+2]*V+R[ht+3]*k)}var ut=.6-U*U-z*z-X*X-Z*Z;if(ut<0)a=0;else{var ct=S[et+M+S[nt+g+S[rt+v+S[it+m]]]]%32*4;a=(ut*=ut)*ut*(R[ct]*U+R[ct+1]*z+R[ct+2]*X+R[ct+3]*Z)}var ft=.6-G*G-H*H-$*$-Q*Q;if(ft<0)u=0;else{var lt=S[et+y+S[nt+b+S[rt+x+S[it+P]]]]%32*4;u=(ft*=ft)*ft*(R[lt]*G+R[lt+1]*H+R[lt+2]*$+R[lt+3]*Q)}var dt=.6-W*W-K*K-J*J-tt*tt;if(dt<0)c=0;else{var pt=S[et+1+S[nt+1+S[rt+1+S[it+1]]]]%32*4;c=(dt*=dt)*dt*(R[pt]*W+R[pt+1]*K+R[pt+2]*J+R[pt+3]*tt)}return 27*(i+o+a+u+c)}},u._buildPermutationTable=c,void 0===(r=function(){return u}.call(e,n,e,t))||(t.exports=r),e.SimplexNoise=u,t.exports=u}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;const r=n(21),i=n(22),o=n(24);class a extends o.ShapeBase{constructor(t){t.type=t.type||"Shape",super(t),t.shape instanceof i.SceneChild?this.shape=t.shape:console.warn("[Urpflanze:Shape] requires the 'shape' property to be instance of SceneChild,\nYou passed:",t.shape),this.shapeUseParent=!!t.shapeUseParent,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(t){return this.id===t||this.name===t?this:this.shape?this.shape.find(t):null}getBufferLength(t){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(t):0)*this.getRepetitionCount()}generateBuffer(t,e){return this.shape?((this.shapeUseParent||this.shape.generateId!==t)&&(this.shapeUseParent&&this.shape.clearBuffer(!0,!1),this.shape.generate(t,!1,e)),this.shape.getBuffer()):a.EMPTY_BUFFER}getShapeBounding(){return this.shape?this.shape.getBounding():this.bounding}addIndex(t,e,n){if(this.shape){const r=this.shape.getIndexedBuffer()||[],i={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};for(let t=0,e=r.length;t<e;t++){const e={...r[t]},n=e.parent?a.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:n})}}}static setIndexedParent(t,e){const n={...t};return n.parent=t.parent?a.setIndexedParent(t.parent,e):e,n}setShape(t){void 0===t?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&r.Scene.propagateToChilden(t,this.scene),this.shape=t,this.shape.clearBuffer(!0,!0))}}e.Shape=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapePrimitive=void 0;const r=n(25),i=n(24),o=n(29),a=n(28);class s extends i.ShapeBase{constructor(t={}){var e;super(t),this.currentGenerationPrimitiveBounding=a.Bounding.empty(),this.props.sideLength=void 0===t.sideLength?void 0:"function"==typeof t.sideLength?t.sideLength:r.toVec2(t.sideLength),this.drawer=t.drawer||{},this.modifiers=t.modifiers,this.bClosed=null===(e=t.bClosed)||void 0===e||e}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getRepetitionSideLength(t){return this.bStatic?(void 0===this.props.sideLength?this.props.sideLength=[50,50]:"number"==typeof this.props.sideLength&&(this.props.sideLength=[this.props.sideLength,this.props.sideLength]),this.props.sideLength):r.toVec2(this.getProp("sideLength",t,[50,50]))}applyModifiers(t,e){if(void 0===this.modifiers)return t;let n=t;const r=Array.isArray(this.modifiers)?this.modifiers:[this.modifiers];for(let t=0,i=r.length;t<i;t++)n=(r[t]instanceof o.Modifier?r[t]:r[t](e)).apply(n,this.bClosed,this);return n}getShapeBounding(){return this.currentGenerationPrimitiveBounding}addIndex(t,e,n){const r={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};this.indexedBuffer.push(r)}isClosed(){return this.bClosed}setClosed(t){this.bClosed=t}}e.ShapePrimitive=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeLoop=void 0;const r=n(27),i=n(28),o=n(33),a=n(24);class s extends o.ShapePrimitive{constructor(t={},e=!1){t.type=t.type||"ShapeLoop",super(t),this.loopDependencies=(t.loopDependencies||[]).concat("sideLength"),this.props.loop=t.loop,e||(this.loop={start:0,end:r.PI2,inc:r.PI2/10,vertex:()=>[0,0]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed())}isStaticLoop(){if(this.loopDependencies.includes("propArguments"))return!1;for(let t=0,e=this.loopDependencies.length;t<e;t++)if("function"==typeof this.props[this.loopDependencies[t]])return!1;return!0}isStatic(){return this.bStaticLoop&&super.isStatic()}isStaticIndexed(){return super.isStaticIndexed()&&(void 0===this.props.loop||"function"!=typeof this.props.loop.start&&"function"!=typeof this.props.loop.end&&"function"!=typeof this.props.loop.inc)}clearBuffer(t=!1,e=!0){this.bStaticLoop=this.isStaticLoop(),t&&(this.currentOrSingleLoopBuffer=void 0),super.clearBuffer(t,e)}setProp(t,e){let n=!1;const r="string"==typeof t?{[t]:e}:t;for(let t=this.loopDependencies.length-1;t>=0;t--)if(this.loopDependencies[t]in r){n=!0;break}"loop"in r&&(r.loop={...this.props.loop,...r.loop},n=!0),super.setProp(r,e,n)}getBufferLength(t){if(this.bStatic&&void 0!==this.buffer)return this.buffer.length;if(this.bStaticLoop&&void 0!==this.currentOrSingleLoopBuffer)return this.currentOrSingleLoopBuffer.length*this.getRepetitionCount();const{count:e}=this.getLoop(t||a.ShapeBase.getEmptyPropArguments(this));return this.getRepetitionCount()*e*2}generateBuffer(t,e){return this.bStaticLoop?("function"!=typeof this.props.sideLength&&void 0!==this.currentOrSingleLoopBuffer||(this.currentOrSingleLoopBuffer=this.generateLoopBuffer(e)),this.currentOrSingleLoopBuffer):this.generateLoopBuffer(e)}generateLoopBuffer(t){const{start:e,inc:n,count:r}=this.getLoop(t),o=this.getRepetitionSideLength(t),a=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,s={index:0,offset:0,current:0,count:r},h=s.count,u=new Float32Array(2*h);for(let r=0,i=0;r<h;r++,i+=2){const o=e+n*r,h=s.count>1?r/(s.count-1):1;s.current=o,s.index=r+1,s.offset=h;const c=a(s,t);u[i]=c[0],u[i+1]=c[1]}const c=[void 0,void 0,void 0,void 0],f=this.applyModifiers(u,t);for(let t=0,e=f.length;t<e;t+=2)f[t]=f[t]*o[0],f[t+1]=f[t+1]*o[1],i.Bounding.add(c,f[t],f[t+1]);return i.Bounding.bind(this.currentGenerationPrimitiveBounding,c),f}getLoop(t){var e,n,r,i,o,a;let s=null!==(n=null===(e=this.props.loop)||void 0===e?void 0:e.start)&&void 0!==n?n:this.loop.start,h=null!==(i=null===(r=this.props.loop)||void 0===r?void 0:r.end)&&void 0!==i?i:this.loop.end,u=null!==(a=null===(o=this.props.loop)||void 0===o?void 0:o.inc)&&void 0!==a?a:this.loop.inc;s="function"==typeof s?s(t):s,h="function"==typeof h?h(t):h,u="function"==typeof u?u(t):u;const c=Math.ceil((h-s)/u);return{start:s,end:h,inc:u,count:c<=0?0:c}}setShape(t){this.setProp("loop",t)}static getBuffer(t){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeLoop=s,s.PId2=Math.PI/2},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeBuffer=void 0;const r=n(28),i=n(33);class o extends i.ShapePrimitive{constructor(t={}){var e,n;t.type=t.type||"ShapeBuffer",t.adaptMode=null!==(e=t.adaptMode)&&void 0!==e?e:r.EAdaptMode.Scale,super(t),this.adaptMode=null!==(n=t.adaptMode)&&void 0!==n?n:r.EAdaptMode.Fill,void 0===t.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=o.EMPTY_BUFFER):this.shape="function"!=typeof t.shape?r.Adapt.adapt(t.shape,this.adaptMode):t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return"function"!=typeof this.shape&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.shape&&super.isStaticIndexed()}clearBuffer(t=!1,e=!0){super.clearBuffer(t,e),this.shapeBuffer=void 0}bindBuffer(t){const e=this.getRepetitionSideLength(t),n=this.applyModifiers(Float32Array.from("function"==typeof this.shape?this.shape(t):this.shape),t),i=[void 0,void 0,void 0,void 0];for(let t=0,o=n.length;t<o;t+=2)n[t]=n[t]*e[0],n[t+1]=n[t+1]*e[1],r.Bounding.add(i,n[t],n[t+1]);r.Bounding.bind(this.currentGenerationPrimitiveBounding,i),this.shapeBuffer=n}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape.length*this.getRepetitionCount()}generateBuffer(t,e){return void 0!==this.shapeBuffer&&"function"!=typeof this.props.sideLength&&"function"!=typeof this.shape||this.bindBuffer(e),this.shapeBuffer}setShape(t){this.shape=r.Adapt.adapt(t,this.adaptMode),this.clearBuffer(!0)}getAdaptMode(){return this.adaptMode}static getBuffer(t={}){const e=new this({...t,sideLength:t.sideLength||1});return e.generate(),e.getBuffer()||new Float32Array}}e.ShapeBuffer=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeRecursive=void 0;const r=n(32);class i extends r.Shape{constructor(t){t.type=t.type||"ShapeRecursive",super(t),this.props.recursions=t.recursions||1,this.props.recursionScale=t.recursionScale||2,this.props.recursionVertex=t.recursionVertex||0,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseRecursion=!!t.shapeUseRecursion}clearBuffer(t=!1,e=!0){t&&(this.shapeRecursiveBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionScale&&"function"!=typeof this.props.recursionVertex&&super.isStatic()}isStaticIndexed(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionVertex&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape?((void 0===this.shapeRecursiveBuffer||this.shapeUseParent||this.shape.generateId!==t)&&this.bindBuffer(t,e),this.shapeRecursiveBuffer):r.Shape.EMPTY_BUFFER}bindBuffer(t,e){const n=Math.floor(this.getProp("recursions",e,1)),r=Math.floor(this.getProp("recursionVertex",e,0)),o=this.getProp("recursionScale",e,2),a=this.shape;let s={index:1,offset:1,count:1,level:{index:1,offset:n>1?0:1,count:1}};const h={...e,recursion:s};a.generate(t,!1,h);const u=a.getBuffer();if(n<=1)return void(this.shapeRecursiveBuffer=u);let c=u;const f=[s];let l=0,d=1;const p=c.length,M=p/2,g=r<=0?M:Math.min(r,M),v=0===r?1:M/Math.min(r,M),m=new Float32Array(i.summmation(n,g)*p);for(let t=0;t<p;t+=2)m[t]=c[t],m[t+1]=c[t+1];for(let e=1;e<n;e++){const r=n>1?e/(n-1):1,u=i.summmation(e,g)*p,M=e-1,y=0===M?0:i.summmation(M,g)*p;for(let i=0,M=g**e;i<M;i++,d++){s={index:i+1,offset:M>1?i/(M-1):1,count:M,level:{index:e+1,offset:r,count:n},parent:f[l]},f.push(s),this.shapeUseRecursion&&(h.recursion=s,a.generate(t,!1,h),c=a.getBuffer());const b=u+i*p,x=Math.floor(y+2*i*v),P=m[x],S=m[x+1],R=o**e;for(let t=0,e=p;t<e;t+=2){const e=c[t]/R,n=c[t+1]/R;m[b+t]=P+e,m[b+t+1]=S+n}d%g==0&&(l+=1)}}this.shapeRecursiveBuffer=m}addIndex(t,e,n){if(this.shape){const i={repetition:e,shape:this},o=Math.floor(this.getProp("recursions",i,1)),a=Math.floor(this.getProp("recursionVertex",i,0)),s={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},recursion:{index:1,offset:1,count:1,level:{index:1,offset:o>1?0:1,count:o}}},h=this.shape.getIndexedBuffer()||[];for(let t=0,e=h.length;t<e;t++){const e={...h[t]},n={index:1,offset:1,count:1,level:{index:1,offset:o>1?0:1,count:o}},i={...s,recursion:n},a=e.parent?r.Shape.setIndexedParent(e.parent,i):i;this.indexedBuffer.push({...e,parent:a})}if(o>1){const t=this.shape.getBufferLength({...i,parent:{...s}})/2,e=a<=0?t:Math.min(a,t),n=this.indexedBuffer.map((t=>[t.parent.recursion]));let u=0,c=1;for(let t=1;t<o;t++){const i=o>1?t/(o-1):1;for(let a=0,f=e**t;a<f;a++,c++){const l=f>1?a/(f-1):1;for(let d=0,p=h.length;d<p;d++){const p={...h[d]},M={index:a+1,offset:l,count:f,level:{index:t+1,offset:i,count:o},parent:n[d][u]},g={...s,recursion:M},v=p.parent?r.Shape.setIndexedParent(p.parent,g):g;this.indexedBuffer.push({...p,parent:v}),n[d].push(M),c%e==0&&(u+=1)}}}}}}static summmation(t,e){if(1===t)return 1;let n=1;for(let r=1;r<t;r++)n+=e**r;return n}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.ShapeRecursive=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeFollow=void 0;const r=n(32);class i extends r.Shape{constructor(t){t.type=t.type||"ShapeFollow",super(t),this.follow=t.follow||t.shape,this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),this.shapeUseFollow=!!t.shapeUseFollow}clearBuffer(t=!1,e=!0){t&&(this.shapeFollowBuffer=void 0),super.clearBuffer(t,e)}isStatic(){return(!this.follow||this.follow.isStatic())&&super.isStatic()}isStaticIndexed(){return(!this.follow||this.follow.isStaticIndexed())&&super.isStaticIndexed()}generateBuffer(t,e){return this.shape&&this.follow?((void 0===this.shapeFollowBuffer||this.shapeUseParent||this.shape.generateId!==t||this.follow.generateId!==t)&&this.bindBuffer(t,e),this.shapeFollowBuffer):r.Shape.EMPTY_BUFFER}bindBuffer(t,e){const n=this.follow;n.generate(t,!1,e);const r=n.getBuffer(),i={...e,follow:{index:1,offset:1,count:1}},o=this.shape;o.generate(t,!1,i);let a=o.getBuffer();const s=a.length,h=new Float32Array(s*(r.length/2)),u=r.length/2;for(let e=0;e<u;e++){const n={index:e+1,offset:u>1?e/(u-1):1,count:u};this.shapeUseFollow&&(i.follow=n,o.generate(t,!1,i),a=o.getBuffer());const c=e*s,f=2*e,l=r[f],d=r[f+1];for(let t=0,e=a.length;t<e;t+=2)h[c+t]=l+a[t],h[c+t+1]=d+a[t+1]}this.shapeFollowBuffer=h}addIndex(t,e,n){if(this.shape){const i={shape:this,frameLength:t,singleRepetitionBounding:n,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}},follow:{index:1,offset:1,count:1}},o=this.shape.getIndexedBuffer()||[];for(let t=0,e=o.length;t<e;t++)for(let t=0,e=this.follow.getBuffer().length/2;t<e;t++){const n=e>1?t/(e-1):1;for(let a=0,s=o.length;a<s;a++){const s={...o[a]},h={...i,follow:{index:t+1,offset:n,count:e}},u=s.parent?r.Shape.setIndexedParent(s.parent,h):h;this.indexedBuffer.push({...s,parent:u})}}}}static summmation(t,e){if(1===t)return 1;let n=1;for(let r=1;r<t;r++)n+=e**r;return n}static getEmptyRecursion(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}}}e.ShapeFollow=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const r=n(28),i=n(35);class o extends i.ShapeBuffer{constructor(t={}){t.type="Line",t.shape=o.buffer,t.adaptMode=r.EAdaptMode.None,t.bClosed=!1,super(t)}static toPolygon(t,e){const n=[];if(!Array.isArray(e)){const n=e,r=t.length/2;e=new Array(r);for(let t=0;t<r;t++)e[t]=n}function r(t,e,n,r,i){const o=n-t,a=r-e,s=i/(2*Math.sqrt(o*o+a*a));return[-s*a,s*o]}function i(t,e,n,r){const i=(e[1]-t[1])/(e[0]-t[0]),o=(r[1]-n[1])/(r[0]-n[0]);if(Math.abs(i-o)<1e-5)return;const a=t[1]-i*t[0],s=(a-(n[1]-o*n[0]))/(o-i);return[s,i*s+a]}let o,a,s=[[0,0],[0,0]],h=[[0,0],[0,0]];for(let u=0,c=t.length-2;u<c;u+=2){o=0===u,a=u===c-2;const f=r(t[u],t[u+1],t[u+2],t[u+3],e[u]),l=[t[u]+f[0],t[u+1]+f[1]],d=[t[u+2]+f[0],t[u+3]+f[1]],p=[t[u]-f[0],t[u+1]-f[1]],M=[t[u+2]-f[0],t[u+3]-f[1]];if(!o){const t=i(s[0],s[1],l,d);t&&(n.unshift(t[1]),n.unshift(t[0]));const e=i(h[0],h[1],p,M);e&&(n.push(e[0]),n.push(e[1]))}o&&(n.unshift(l[1]),n.unshift(l[0]),n.push(p[0]),n.push(p[1])),a&&(n.unshift(d[1]),n.unshift(d[0]),n.push(M[0]),n.push(M[1])),a||(s=[l,d],h=[p,M])}return Float32Array.from(n)}}e.Line=o,o.buffer=[-1,0,1,0]},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Triangle=void 0;const r=n(28),i=n(35);class o extends i.ShapeBuffer{constructor(t={}){t.type="Triangle",t.shape=o.buffer,t.adaptMode=r.EAdaptMode.None,super(t)}}e.Triangle=o,o.buffer=[1,0,-1,1,-1,-1]},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;const r=n(28),i=n(35);class o extends i.ShapeBuffer{constructor(t={}){t.type="Rect",t.shape=o.buffer,t.adaptMode=r.EAdaptMode.None,super(t)}}e.Rect=o,o.buffer=[1,1,-1,1,-1,-1,1,-1]},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["sideNumber"]),super(t,!0),this.props.sideNumber=t.sideNumber,this.loop={start:0,end:r.PI2,inc:t=>r.PI2/this.getProp("sideNumber",t,5),vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.Polygon=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){t.type="Circle",super(t,!0),this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return 1/Math.pow(e[0]*e[1],.25)*i.ShapeLoop.PId2},vertex:t=>[Math.cos(t.current),Math.sin(t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}}e.Circle=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){t.type=t.type||"Polygon",t.loopDependencies=(t.loopDependencies||[]).concat(["spikes","innerRadius"]),super(t,!0),this.props.spikes=t.spikes,this.props.innerRadius=t.innerRadius,this.loop={start:0,end:r.PI2,inc:t=>this.inc,vertex:t=>{const e=Math.PI/this.spikes*t.index,n=t.index%2==0?1:this.innerRadius;return[Math.cos(e)*n,Math.sin(e)*n]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spikes=this.getProp("spikes",t,5),this.innerRadius=this.getProp("innerRadius",t,.5),this.inc=Math.PI/this.spikes,super.generateLoopBuffer(t)}}e.Star=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rose=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){var e,n;t.type="Rose",t.loopDependencies=(t.loopDependencies||[]).concat(["n","d"]),super(t,!0),this.props.n=null!==(e=t.n)&&void 0!==e?e:1,this.props.d=null!==(n=t.d)&&void 0!==n?n:2,this.loop={start:0,end:t=>o.getFinalAngleFromK(this.getProp("n",t),this.getProp("d",t)),inc:t=>{const e=this.getProp("n",t),n=this.getProp("d",t),i=this.getRepetitionSideLength(t),o=Math.pow(i[0]*i[1],.45),a=n<e?e/n:1.5;return r.PI2/(o*a)},vertex:t=>{const e=Math.cos(this.k*t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.k=this.getProp("n",t)/this.getProp("d",t),super.generateLoopBuffer(t)}static getFinalAngleFromK(t,e){if(t==e)return r.PI2;const n=t/e,i=t*e;return Number.isInteger(n)||n%.5!=0?Math.PI*e*(i%2==0?2:1):4*Math.PI}}e.Rose=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Spiral=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){var e,n,i;t.type="Spiral",t.bClosed=!1,t.loopDependencies=(t.loopDependencies||[]).concat(["twists","twistsStart","spiral"]),super(t,!0),this.props.spiral=null!==(e=t.spiral)&&void 0!==e?e:o.types.ARCHIMEDE,this.props.twists=null!==(n=t.twists)&&void 0!==n?n:2,this.props.twistsStart=null!==(i=t.twistsStart)&&void 0!==i?i:0,this.loop={start:t=>r.PI2*this.getProp("twistsStart",t),end:t=>r.PI2*(this.getProp("twistsStart",t)+this.getProp("twists",t)),inc:t=>{const e=this.getProp("twists",t),n=r.PI2*e,i=this.getRepetitionSideLength(t);return n/((4+Math.sqrt(i[0]*i[1]))*e)},vertex:t=>{const e=this.r(t.current);return[e*Math.cos(t.current),e*Math.sin(t.current)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.spiral=this.getProp("spiral",t),this.r=o.getRFromTSpiralType(this.spiral),super.generateLoopBuffer(t)}static getRFromTSpiralType(t){switch(t){case o.types.ARCHIMEDE:return t=>t/10;case o.types.HYPERBOLIC:return t=>1/t*3;case o.types.FERMAT:return t=>t**.5/3;case o.types.LITUUS:return t=>t**-.5;case o.types.LOGARITHMIC:return t=>Math.E**(.2*t)/10}return t=>t}}e.Spiral=o,o.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Lissajous=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){t.type="Lissajous",t.loopDependencies=(t.loopDependencies||[]).concat(["wx","wy","wz"]),super(t,!0),this.props.wx=t.wx||1,this.props.wy=t.wy||2,this.props.wz=t.wz||0,this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getProp("wx",t),n=this.getProp("wy",t),r=e==n?i.ShapeLoop.PId2:.5-.01*Math.min(49,e+n),o=this.getRepetitionSideLength(t);return 1/Math.pow(o[0]*o[1],.25)*r},vertex:t=>this.wx===this.wy?[Math.cos(t.current+this.wz),Math.sin(t.current)]:[Math.cos(this.wx*t.current+this.wz),Math.sin(this.wy*t.current)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.wx=this.getProp("wx",t,1),this.wy=this.getProp("wy",t,2),this.wz=this.getProp("wz",t,2),super.generateLoopBuffer(t)}}e.Lissajous=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SuperShape=void 0;const r=n(27),i=n(34);class o extends i.ShapeLoop{constructor(t={}){var e,n,i,o,a,s;t.type="SuperShape",t.loopDependencies=(t.loopDependencies||[]).concat(["a","b","m","n1","n2","n3"]),super(t,!0),this.props.a=null!==(e=t.a)&&void 0!==e?e:1,this.props.b=null!==(n=t.b)&&void 0!==n?n:1,this.props.m=null!==(i=t.m)&&void 0!==i?i:6,this.props.n1=null!==(o=t.n1)&&void 0!==o?o:1,this.props.n2=null!==(a=t.n2)&&void 0!==a?a:1,this.props.n3=null!==(s=t.n3)&&void 0!==s?s:1,this.loop={start:0,end:r.PI2,inc:t=>{const e=this.getRepetitionSideLength(t);return Math.PI/Math.pow(e[0]*e[1],.5)},vertex:t=>{const e=t.current,n=this.m*e/4,r=(Math.abs(Math.cos(n)/this.a)**this.n2+Math.abs(Math.sin(n)/this.b)**this.n3)**(1/this.n1),i=0===r?1:1/r;return[i*Math.cos(e),i*Math.sin(e)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}generateLoopBuffer(t){return this.a=this.getProp("a",t),this.b=this.getProp("b",t),this.m=this.getProp("m",t),this.n1=this.getProp("n1",t),this.n2=this.getProp("n2",t),this.n3=this.getProp("n3",t),super.generateLoopBuffer(t)}}e.SuperShape=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Modifiers=void 0;const r=n(28),i=n(49),o=n(50),a=n(52),s=n(53),h=n(51),u=n(54),c={Adapt:r.Adapt,Mirror:i.Mirror,Smooth:o.Smooth,Solidify:a.Solidify,Subdivide:s.Subdivide,Close:h.Close,Offset:u.Offset};e.Modifiers=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mirror=void 0;const r=n(29);class i extends r.Modifier{constructor(t={x:!0,y:!0}){super(),this.x=!0===t.x,this.y=!0===t.y}apply(t,e){const n=t.length,r=new Float32Array(n*(this.x?2:1)*(this.y?2:1));if(this.x&&this.y){const e=n+n,i=e+n;for(let o=0;o<n;o+=2)r[o]=t[o]-1,r[o+1]=t[o+1]-1,r[n+o]=-1*t[n-2-o]+1,r[n+o+1]=t[n-2-o+1]-1,r[e+o]=-1*t[o]+1,r[e+o+1]=-1*t[o+1]+1,r[i+o]=t[n-2-o]-1,r[i+o+1]=-1*t[n-2-o+1]+1}else if(this.x)for(let e=0;e<n;e+=2)r[e]=t[e]-1,r[e+1]=t[e+1],r[n+e]=-1*t[n-2-e]+1,r[n+e+1]=t[n-2-e+1];else{if(!this.y)return t;for(let e=0;e<n;e+=2)r[e]=t[e],r[e+1]=t[e+1]-1,r[n+e]=t[n-2-e],r[n+e+1]=-1*t[n-2-e+1]+1}return r}}e.Mirror=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;const r=n(30),i=n(51),o=n(29);class a extends o.Modifier{constructor(t={}){super(),this.level=t.level||1;const e=Array.isArray(t.tension)?t.tension:[t.tension];this.tension=new Array(this.level).fill(.5).map(((t,n)=>r.clamp(0,1,e[n]||t))),this.level=this.level<1?1:this.level,this.closed=!0===t.closed}apply(t,e){if(e&&!i.Close.isClosed(t)){const e=t.length,n=new Float32Array(e+2);n.set(t,0),n[e]=t[0],n[e+1]=t[1],t=n}let n=t;for(let t=0,r=this.level;t<r;t++)n=a.smooth(n,this.tension[t],e||this.closed);return n}static smooth(t,e=.5,n=!1){const r=t.length,i=new Float32Array(2*(t.length-(n?1:0)));n||(i[0]=t[0],i[1]=t[1]);const o=.05+.4*e,a=1-o;let s=n?0:2;for(let e=0,n=r-2;e<n;e+=2,s+=4)i[s]=a*t[e]+o*t[e+2],i[s+1]=a*t[e+1]+o*t[e+3],i[s+2]=o*t[e]+a*t[e+2],i[s+3]=o*t[e+1]+a*t[e+3];return n?(i[s]=i[0],i[s+1]=i[1]):(i[s]=t[r-2],i[s+1]=t[r-1]),i}}e.Smooth=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Close=void 0;const r=n(29);class i extends r.Modifier{constructor(){super()}apply(t,e,n){return i.call(t)}static call(t){const e=t.length;if(i.isClosed(t))return t;const n=new Float32Array(e+2);return n.set(t,0),n[e]=n[0],n[e+1]=n[1],n}static isClosed(t){const e=t.length;return t[0]===t[e-2]&&t[1]===t[e-1]}}e.Close=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Solidify=void 0;const r=n(29);class i extends r.Modifier{constructor(t={}){super(),this.closed=!0===t.closed,this.thickness=t.thickness||.2,this.error=t.error}apply(t,e){return i.solidify(t,this.thickness,this.closed,this.error)}static solidify(t,e,n=!1,r){const o=[],a=(e="number"==typeof e?[e]:e).length;let s,h,u=[[0,0],[0,0]],c=[[0,0],[0,0]];for(let n=0,f=0,l=t.length-2;n<l;n+=2,f++){s=0===n,h=n===l-2;const d={index:n+1,offset:n/l,count:l},p={index:n+2,offset:(n+1)/l,count:l},M="function"==typeof e?e(d):e[f%a],g="function"==typeof e?e(p):e[(f+1)%a],v=i.getOffsets(t[n],t[n+1],t[n+2],t[n+3],M),m=i.getOffsets(t[n],t[n+1],t[n+2],t[n+3],g),y=[t[n]+v[0],t[n+1]+v[1]],b=[t[n+2]+m[0],t[n+3]+m[1]],x=[t[n]-v[0],t[n+1]-v[1]],P=[t[n+2]-m[0],t[n+3]-m[1]];if(!s){const t=i.getIntersection(u[0],u[1],y,b,r);t&&(o.unshift(t[1]),o.unshift(t[0]));const e=i.getIntersection(c[0],c[1],x,P,r);e&&(o.push(e[0]),o.push(e[1]))}s&&(o.unshift(y[1]),o.unshift(y[0]),o.push(x[0]),o.push(x[1])),h&&(o.unshift(b[1]),o.unshift(b[0]),o.push(P[0]),o.push(P[1])),h||(u=[y,b],c=[x,P])}if(n){const e=t.length-2,n=o.length-2,r=.5*o[0]+.5*o[e],i=.5*o[1]+.5*o[e+1],a=.5*o[e+2]+.5*o[n],s=.5*o[e+3]+.5*o[n+1];o[0]=r,o[1]=i,o[e]=r,o[e+1]=i,o[e+2]=a,o[e+3]=s,o[n]=a,o[n+1]=s}return Float32Array.from(o)}static getOffsets(t,e,n,r,i){const o=n-t,a=r-e,s=i/(2*Math.sqrt(o*o+a*a));return[-s*a,s*o]}static getIntersection(t,e,n,r,i=1e-5){const o=(e[1]-t[1])/(e[0]-t[0]),a=(r[1]-n[1])/(r[0]-n[0]);if(Math.abs(o-a)<i)return;const s=t[1]-o*t[0],h=(s-(n[1]-a*n[0]))/(a-o);return[h,o*h+s]}}e.Solidify=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Subdivide=void 0;const r=n(29);class i extends r.Modifier{constructor(t={}){super(),this.level=t.level||1,this.level=this.level<1?1:this.level}apply(t,e){const n=this.level;let r=t;if(r&&r.length>0)for(let t=0;t<n;t++)r=i.subdivide(r,e);return r}static subdivide(t,e=!1){const n=t.length,r=new Float32Array(2*n-(e?0:2));for(let e=0;e<n;e+=2)if(0===e)r[0]=t[0],r[1]=t[1];else{const n=t[e-2],i=t[e-1],o=t[e],a=t[e+1],s=(o+n)/2,h=(a+i)/2;r[2*(e-1)]=s,r[2*(e-1)+1]=h,r[2*e]=o,r[2*e+1]=a}return e&&(r[2*(n-1)]=(t[0]+t[n-2])/2,r[2*(n-1)+1]=(t[1]+t[n-1])/2),r}}e.Subdivide=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Offset=void 0;const r=n(29);class i extends r.Modifier{constructor(t={from:0,to:void 0}){super(),this.from=t.from,this.to=t.to}apply(t,e){return t.subarray(this.from,this.to?this.to<0?t.length+this.to:this.to:void 0)}}e.Offset=i}],e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(0)})()},t.exports=e()},479:(t,e,n)=>{var r;!function(){function i(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function o(t,e,n,r,a){for(var s,h=r,u=e+1;u<n;u++){var c=i(t[u],t[e],t[n]);c>h&&(s=u,h=c)}h>r&&(s-e>1&&o(t,e,s,r,a),a.push(t[s]),n-s>1&&o(t,s,n,r,a))}function a(t,e){var n=t.length-1,r=[t[0]];return o(t,0,n,e,r),r.push(t[n]),r}function s(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return a(t=n?t:function(t,e){for(var n,r,i,o,a,s=t[0],h=[s],u=1,c=t.length;u<c;u++)i=s,void 0,void 0,(o=(r=n=t[u]).x-i.x)*o+(a=r.y-i.y)*a>e&&(h.push(n),s=n);return s!==n&&h.push(n),h}(t,r),r)}void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};(()=>{n.d(r,{Z:()=>s});var t=n(926),e=n(479),i=n.n(e);const o=(t,e)=>Math.round(t*10**e)/10**e,a=(t,e)=>{"string"==typeof e?t.push(e):e.forEach((e=>t.push(e)))};class s{static parse(t,e){const n={...s.defaults,...e};return s.generate(t,n).join("\n")}static setUnit(t){return"inches"===t?"G20":"G21"}static useRelativePosition(){return"G91"}static useAbsolutePosition(){return"G90"}static goHome(t){return[t,"G28 X0 Y0"]}static setCurrentMachinePosition(t,e,n){return`G28.1 X${o(t,n)} Y${o(e,n)}`}static setCurrentWorkspacePosition(t,e,n){return`G92 X${o(t,n)} Y${o(e,n)}`}static goTo(t,e,n,r){return void 0!==r?`G1 X${o(t,n)} Y${o(e,n)} F${r}`:`G0 X${o(t,n)} Y${o(e,n)}`}static moveTo(t,e,n,r,i){return[t,this.goTo(n,r,i),e]}static lineTo(t,e,n,r){return this.goTo(t,e,r,n)}static generate(e,n){const r=n.maxX-n.minX,o=n.maxY-n.minY,h=r/o,u=e.width/e.height,c=[h>u?e.width*o/e.height:r,h>u?o:e.height*r/e.width],f=[(r-c[0])/2,(o-c[1])/2],l=h>u?e.width/c[0]:e.height/c[1],d=[];a(d,n.penUpCommand),a(d,this.setUnit(n.unit)),a(d,this.useAbsolutePosition()),a(d,this.setCurrentMachinePosition(n.minX,n.minY,n.decimals)),a(d,this.setCurrentWorkspacePosition(n.minX,n.minY,n.decimals));const p=e.getChildren();for(let e=0,r=p.length;e<r;e++){p[e].generate(0,!0);const r=p[e].getBuffer()||[],o=p[e].getIndexedBuffer()||[];let h=0;for(let e=0,u=o.length;e<u;e++){const u=o[e],c=(0,t.clamp)(n.minX,n.maxX,n.minX+r[h]/l+f[0]),p=(0,t.clamp)(n.minY,n.maxY,n.minY+r[h+1]/l+f[1]);a(d,this.moveTo(n.penUpCommand,n.penDownCommand,c,p,n.decimals));const M=s.pointsToBuffer(i()(s.bufferToPoints(r.slice(h,h+u.frameLength)),1/10**n.decimals,!0));for(let e=0,r=M.length;e<r;e+=2){const r=(0,t.clamp)(n.minX,n.maxX,n.minX+M[e]/l+f[0]),i=(0,t.clamp)(n.minY,n.maxY,n.minY+M[e+1]/l+f[1]);a(d,this.lineTo(r,i,n.velocity,n.decimals))}u.shape.isClosed()&&a(d,this.lineTo(c,p,n.velocity,n.decimals)),h+=u.frameLength}}return a(d,this.goHome(n.penUpCommand)),d}static bufferToPoints(t){const e=[];for(let n=0,r=t.length;n<r;n+=2)e.push({x:t[n],y:t[n+1]});return e}static pointsToBuffer(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n].x),e.push(t[n].y);return Float32Array.from(e)}}s.defaults={minX:0,minY:0,maxX:297,maxY:210,unit:"millimeters",velocity:1500,penUpCommand:"M3 S30",penDownCommand:"M3 S0",decimals:2},"undefined"!=typeof Urpflanze&&(Urpflanze.GCODEExporter=s)})();var i=r.Z;export{i as GCODEExporter};