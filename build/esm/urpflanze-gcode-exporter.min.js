/*! For license information please see urpflanze-gcode-exporter.min.js.LICENSE.txt */
var t={313:(t,e,r)=>{e.uZ=void 0;const n=r(21);r(769),r(795),"undefined"!=typeof performance?performance:Date;e.uZ=function(t,e,r){return r<=t?t:r>=e?e:r};new n(Math.random)},795:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=new Array(4),n={from:(t=0,e)=>{const r=new Array(2);return"number"==typeof t?(r[0]=t,r[1]=null!=e?e:t):(r[0]=t[0],r[1]=t[1]),r},normalize:t=>{const e=n.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:(t,e)=>t[0]*e[0]+t[1]*e[1],length:t=>Math.hypot(t[0],t[1]),angle:(t,e)=>(t=n.normalize(t),e=n.normalize(e),Math.acos(n.dot(t,e))),skewX:(t,e)=>{t[0]+=Math.tan(e)*t[1]},skewY:(t,e)=>{t[1]+=Math.tan(e)*t[0]},squeezeX:(t,e)=>{t[1]+=t[1]*(t[0]*-e)},squeezeY:(t,e)=>{t[0]+=t[0]*(t[1]*e)},rotate:(t,e,r)=>{const n=t[0]-r[0],o=t[1]-r[1];t[0]=n*e[0]+o*e[1]+r[0],t[1]=n*e[2]+o*e[3]+r[1]},rotateX:(t,e,o)=>{r[0]=1,r[1]=0,r[2]=0,r[3]=Math.cos(o),n.rotate(t,r,e)},rotateY:(t,e,o)=>{r[0]=Math.cos(o),r[1]=0,r[2]=0,r[3]=1,n.rotate(t,r,e)},rotateZ:(t,e,o)=>{r[0]=Math.cos(o),r[1]=-Math.sin(o),r[2]=Math.sin(o),r[3]=Math.cos(o),n.rotate(t,r,e)},translate:(t,e)=>{t[0]+=e[0],t[1]+=e[1]},scale:(t,e)=>{t[0]*=e[0],t[1]*=e[1]},divide:(t,e)=>{t[0]/=e[0],t[1]/=e[1]},toString:t=>`x: ${t[0]}, y: ${t[1]}`,ZERO:Array.from([0,0]),ONE:Array.from([1,1])};e.default=n},769:(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ERepetitionType=void 0,(r=e.ERepetitionType||(e.ERepetitionType={}))[r.Ring=1]="Ring",r[r.Matrix=2]="Matrix"},21:(t,e,r)=>{var n;!function(){var o=.5*(Math.sqrt(3)-1),a=(3-Math.sqrt(3))/6,i=1/6,s=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;function h(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,r=0,n=1,o=l();t=o(" "),e=o(" "),r=o(" ");for(var a=0;a<arguments.length;a++)(t-=o(arguments[a]))<0&&(t+=1),(e-=o(arguments[a]))<0&&(e+=1),(r-=o(arguments[a]))<0&&(r+=1);return o=null,function(){var o=2091639*t+2.3283064365386963e-10*n;return t=e,e=r,r=o-(n=0|o)}}(t):Math.random,this.p=f(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function f(t){var e,r=new Uint8Array(256);for(e=0;e<256;e++)r[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),o=r[e];r[e]=r[n],r[n]=o}return r}function l(){var t=4022871197;return function(e){e=e.toString();for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}h.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,n,i=this.permMod12,s=this.perm,u=this.grad3,h=0,f=0,l=0,c=(t+e)*o,m=Math.floor(t+c),v=Math.floor(e+c),p=(m+v)*a,d=t-(m-p),g=e-(v-p);d>g?(r=1,n=0):(r=0,n=1);var M=d-r+a,y=g-n+a,x=d-1+2*a,X=g-1+2*a,Y=255&m,w=255&v,T=.5-d*d-g*g;if(T>=0){var C=3*i[Y+s[w]];h=(T*=T)*T*(u[C]*d+u[C+1]*g)}var P=.5-M*M-y*y;if(P>=0){var A=3*i[Y+r+s[w+n]];f=(P*=P)*P*(u[A]*M+u[A+1]*y)}var b=.5-x*x-X*X;if(b>=0){var $=3*i[Y+1+s[w+1]];l=(b*=b)*b*(u[$]*x+u[$+1]*X)}return 70*(h+f+l)},noise3D:function(t,e,r){var n,o,a,s,u,h,f,l,c,m,v=this.permMod12,p=this.perm,d=this.grad3,g=.3333333333333333*(t+e+r),M=Math.floor(t+g),y=Math.floor(e+g),x=Math.floor(r+g),X=(M+y+x)*i,Y=t-(M-X),w=e-(y-X),T=r-(x-X);Y>=w?w>=T?(u=1,h=0,f=0,l=1,c=1,m=0):Y>=T?(u=1,h=0,f=0,l=1,c=0,m=1):(u=0,h=0,f=1,l=1,c=0,m=1):w<T?(u=0,h=0,f=1,l=0,c=1,m=1):Y<T?(u=0,h=1,f=0,l=0,c=1,m=1):(u=0,h=1,f=0,l=1,c=1,m=0);var C=Y-u+i,P=w-h+i,A=T-f+i,b=Y-l+2*i,$=w-c+2*i,G=T-m+2*i,Z=Y-1+.5,U=w-1+.5,E=T-1+.5,O=255&M,D=255&y,R=255&x,_=.6-Y*Y-w*w-T*T;if(_<0)n=0;else{var q=3*v[O+p[D+p[R]]];n=(_*=_)*_*(d[q]*Y+d[q+1]*w+d[q+2]*T)}var j=.6-C*C-P*P-A*A;if(j<0)o=0;else{var z=3*v[O+u+p[D+h+p[R+f]]];o=(j*=j)*j*(d[z]*C+d[z+1]*P+d[z+2]*A)}var S=.6-b*b-$*$-G*G;if(S<0)a=0;else{var k=3*v[O+l+p[D+c+p[R+m]]];a=(S*=S)*S*(d[k]*b+d[k+1]*$+d[k+2]*G)}var B=.6-Z*Z-U*U-E*E;if(B<0)s=0;else{var F=3*v[O+1+p[D+1+p[R+1]]];s=(B*=B)*B*(d[F]*Z+d[F+1]*U+d[F+2]*E)}return 32*(n+o+a+s)},noise4D:function(t,e,r,n){var o,a,i,h,f,l,c,m,v,p,d,g,M,y,x,X,Y,w=this.perm,T=this.grad4,C=(t+e+r+n)*s,P=Math.floor(t+C),A=Math.floor(e+C),b=Math.floor(r+C),$=Math.floor(n+C),G=(P+A+b+$)*u,Z=t-(P-G),U=e-(A-G),E=r-(b-G),O=n-($-G),D=0,R=0,_=0,q=0;Z>U?D++:R++,Z>E?D++:_++,Z>O?D++:q++,U>E?R++:_++,U>O?R++:q++,E>O?_++:q++;var j=Z-(l=D>=3?1:0)+u,z=U-(c=R>=3?1:0)+u,S=E-(m=_>=3?1:0)+u,k=O-(v=q>=3?1:0)+u,B=Z-(p=D>=2?1:0)+2*u,F=U-(d=R>=2?1:0)+2*u,H=E-(g=_>=2?1:0)+2*u,L=O-(M=q>=2?1:0)+2*u,N=Z-(y=D>=1?1:0)+3*u,W=U-(x=R>=1?1:0)+3*u,I=E-(X=_>=1?1:0)+3*u,J=O-(Y=q>=1?1:0)+3*u,K=Z-1+4*u,Q=U-1+4*u,V=E-1+4*u,tt=O-1+4*u,et=255&P,rt=255&A,nt=255&b,ot=255&$,at=.6-Z*Z-U*U-E*E-O*O;if(at<0)o=0;else{var it=w[et+w[rt+w[nt+w[ot]]]]%32*4;o=(at*=at)*at*(T[it]*Z+T[it+1]*U+T[it+2]*E+T[it+3]*O)}var st=.6-j*j-z*z-S*S-k*k;if(st<0)a=0;else{var ut=w[et+l+w[rt+c+w[nt+m+w[ot+v]]]]%32*4;a=(st*=st)*st*(T[ut]*j+T[ut+1]*z+T[ut+2]*S+T[ut+3]*k)}var ht=.6-B*B-F*F-H*H-L*L;if(ht<0)i=0;else{var ft=w[et+p+w[rt+d+w[nt+g+w[ot+M]]]]%32*4;i=(ht*=ht)*ht*(T[ft]*B+T[ft+1]*F+T[ft+2]*H+T[ft+3]*L)}var lt=.6-N*N-W*W-I*I-J*J;if(lt<0)h=0;else{var ct=w[et+y+w[rt+x+w[nt+X+w[ot+Y]]]]%32*4;h=(lt*=lt)*lt*(T[ct]*N+T[ct+1]*W+T[ct+2]*I+T[ct+3]*J)}var mt=.6-K*K-Q*Q-V*V-tt*tt;if(mt<0)f=0;else{var vt=w[et+1+w[rt+1+w[nt+1+w[ot+1]]]]%32*4;f=(mt*=mt)*mt*(T[vt]*K+T[vt+1]*Q+T[vt+2]*V+T[vt+3]*tt)}return 27*(o+a+i+h+f)}},h._buildPermutationTable=f,void 0===(n=function(){return h}.call(e,r,e,t))||(t.exports=n),e.SimplexNoise=h,t.exports=h}()},479:(t,e,r)=>{var n;!function(){function o(t,e,r){var n=e.x,o=e.y,a=r.x-n,i=r.y-o;if(0!==a||0!==i){var s=((t.x-n)*a+(t.y-o)*i)/(a*a+i*i);s>1?(n=r.x,o=r.y):s>0&&(n+=a*s,o+=i*s)}return(a=t.x-n)*a+(i=t.y-o)*i}function a(t,e,r,n,i){for(var s,u=n,h=e+1;h<r;h++){var f=o(t[h],t[e],t[r]);f>u&&(s=h,u=f)}u>n&&(s-e>1&&a(t,e,s,n,i),i.push(t[s]),r-s>1&&a(t,s,r,n,i))}function i(t,e){var r=t.length-1,n=[t[0]];return a(t,0,r,e,n),n.push(t[r]),n}function s(t,e,r){if(t.length<=2)return t;var n=void 0!==e?e*e:1;return i(t=r?t:function(t,e){for(var r,n,o,a,i,s=t[0],u=[s],h=1,f=t.length;h<f;h++)o=s,void 0,void 0,(a=(n=r=t[h]).x-o.x)*a+(i=n.y-o.y)*i>e&&(u.push(r),s=r);return s!==r&&u.push(r),u}(t,n),n)}void 0===(n=function(){return s}.call(e,r,e,t))||(t.exports=n)}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{r.d(n,{Z:()=>s});var t=r(313),e=r(479),o=r.n(e);const a=(t,e)=>Math.round(t*10**e)/10**e,i=(t,e)=>{"string"==typeof e?t.push(e):e.forEach((e=>t.push(e)))};class s{static parse(t,e){const r={...s.defaults,...e};return s.generate(t,r).join("\n")}static setUnit(t){return"inches"===t?"G20":"G21"}static useRelativePosition(){return"G91"}static useAbsolutePosition(){return"G90"}static goHome(t){return[t,"G28 X0 Y0"]}static setCurrentMachinePosition(t,e,r){return`G28.1 X${a(t,r)} Y${a(e,r)}`}static setCurrentWorkspacePosition(t,e,r){return`G92 X${a(t,r)} Y${a(e,r)}`}static goTo(t,e,r,n){return void 0!==n?`G1 X${a(t,r)} Y${a(e,r)} F${n}`:`G0 X${a(t,r)} Y${a(e,r)}`}static moveTo(t,e,r,n,o){return[t,this.goTo(r,n,o),e]}static lineTo(t,e,r,n){return this.goTo(t,e,n,r)}static generate(e,r){const n=r.maxX-r.minX,a=r.maxY-r.minY,u=n/a,h=e.width/e.height,f=[u>h?e.width*a/e.height:n,u>h?a:e.height*n/e.width],l=[(n-f[0])/2,(a-f[1])/2],c=u>h?e.width/f[0]:e.height/f[1],m=[];i(m,r.penUpCommand),i(m,this.setUnit(r.unit)),i(m,this.useAbsolutePosition()),i(m,this.setCurrentMachinePosition(r.minX,r.minY,r.decimals)),i(m,this.setCurrentWorkspacePosition(r.minX,r.minY,r.decimals));const v=e.getChildren();for(let e=0,n=v.length;e<n;e++){v[e].generate(0,!0);const n=v[e].getBuffer()||[],a=v[e].getIndexedBuffer()||[];let u=0;for(let e=0,h=a.length;e<h;e++){const h=a[e],f=(0,t.uZ)(r.minX,r.maxX,r.minX+n[u]/c+l[0]),v=(0,t.uZ)(r.minY,r.maxY,r.minY+n[u+1]/c+l[1]);i(m,this.moveTo(r.penUpCommand,r.penDownCommand,f,v,r.decimals));const p=s.pointsToBuffer(o()(s.bufferToPoints(n.slice(u,u+h.frameLength)),1/10**r.decimals,!0));for(let e=0,n=p.length;e<n;e+=2){const n=(0,t.uZ)(r.minX,r.maxX,r.minX+p[e]/c+l[0]),o=(0,t.uZ)(r.minY,r.maxY,r.minY+p[e+1]/c+l[1]);i(m,this.lineTo(n,o,r.velocity,r.decimals))}h.shape.isClosed()&&i(m,this.lineTo(f,v,r.velocity,r.decimals)),u+=h.frameLength}}return i(m,this.goHome(r.penUpCommand)),m}static bufferToPoints(t){const e=[];for(let r=0,n=t.length;r<n;r+=2)e.push({x:t[r],y:t[r+1]});return e}static pointsToBuffer(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r].x),e.push(t[r].y);return Float32Array.from(e)}}s.defaults={minX:0,minY:0,maxX:297,maxY:210,unit:"millimeters",velocity:1500,penUpCommand:"M3 S30",penDownCommand:"M3 S0",decimals:2}})();var o=n.Z;export{o as GCODEExporter};